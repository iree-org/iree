---
layout: default
permalink: Dialects/IREEDialect
title: "'iree' Dialect"
parent: Dialect Definitions
---

<!-- Autogenerated by mlir-tblgen; don't manually edit -->
# 'iree' Dialect
{: .no_toc }

A dialect used for types common across IREE subdialects.

1. TOC
{:toc}

## Type constraint definition

### list
A resizable list of some type.

### ptr
Pointer to a typed value.

### byte_buffer
A constant buffer of mapped host memory.

### mutable_byte_buffer
A buffer of read-write host memory.

## Operation definition

### `iree.byte_buffer.constant` (::mlir::iree_compiler::IREE::ByteBufferConstantOp)

constant host-side byte buffer


Syntax:

```
operation ::= `iree.byte_buffer.constant` attr-dict `:` type($result) `=` $value
```

Defines a compile-time byte buffer based on the given attribute value.
The attribute will be serialized into the canonical IREE format for the
chosen host target.

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
`value` | ::mlir::ElementsAttr | constant vector/tensor attribute

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | byte_buffer

### `iree.do_not_optimize` (::mlir::iree_compiler::IREE::DoNotOptimizeOp)

Prevents compiler optimizations of a value.

Wraps any operands in an unoptimizable identity. This operation is declared
as having side effects, so no compiler optimizations will be able to reason
about it. This prevents its results from being folded. It will be dropped as
the final step in compilation.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`arguments` | any type

#### Results:

| Result | Description |
| :----: | ----------- |
`results` | any type

### `iree.dynamic_shape_constant` (::mlir::iree_compiler::IREE::DynamicShapeConstantOp)

A tensor constant that can have dynamic dimensions


Syntax:

```
operation ::= `iree.dynamic_shape_constant` $value attr-dict `->` type($result)
```

Allows specifying a constant where the return value can erase shape
information. This operation is declared as having side effects and has no
folder, so will not be optimized away by the compiler. The underlying shape
information should be hidden from the compiler and resolved at runtime.

```mlir
%c = iree.dynamic_shape_constant tensor<2x2xf32> -> tensor<?x?xf32>
%res = "mhlo.abs"(%c) : (tensor<?x?xf32>) -> tensor<?x?xf32>
```

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
`value` | ::mlir::ElementsAttr | constant vector/tensor attribute

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | tensor of any type values

### `iree.list.create` (::mlir::iree_compiler::IREE::ListCreateOp)

creates a new empty list


Syntax:

```
operation ::= `iree.list.create` ($initial_capacity^)? attr-dict `:` type($result)
```

Creates a new empty list with an optional initial capacity.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`initial_capacity` | index

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | list

### `iree.list.get` (::mlir::iree_compiler::IREE::ListGetOp)

element accessor


Syntax:

```
operation ::= `iree.list.get` $list `[` $index `]` attr-dict `:` custom<ListTypeGet>(type($list), type($result))
```

Returns the value of the element at the given index. Note that the value
may be null if the element is null or the type does not match.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`list` | list
`index` | index

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | any type

### `iree.list.resize` (::mlir::iree_compiler::IREE::ListResizeOp)

resizes the list to a new count in elements


Syntax:

```
operation ::= `iree.list.resize` operands attr-dict `:` type($list)
```

Resizes the list to contain `new_size` elements. This will either truncate
the list if the existing size is greater than `new_size` or extend the list
with the default list value of the element type.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`list` | list
`new_size` | index

### `iree.list.set` (::mlir::iree_compiler::IREE::ListSetOp)

element mutator


Syntax:

```
operation ::= `iree.list.set` $list `[` $index `]` `,` $value attr-dict `:` custom<ListTypeSet>(type($list), type($value))
```

Sets the element at the given index to the new value.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`list` | list
`index` | index
`value` | any type

### `iree.list.size` (::mlir::iree_compiler::IREE::ListSizeOp)

the size of the list in elements


Syntax:

```
operation ::= `iree.list.size` operands attr-dict `:` type($list)
```

Returns the current size of the list in elements.

#### Operands:

| Operand | Description |
| :-----: | ----------- |
`list` | list

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | index

### `iree.null` (::mlir::iree_compiler::IREE::NullOp)

a null type value


Syntax:

```
operation ::= `iree.null` attr-dict `:` type($result)
```

Defines an SSA value that is lowered into dialects supporting
null/undefined/optional/etc values.

#### Results:

| Result | Description |
| :----: | ----------- |
`result` | any type

### `iree.placeholder` (::mlir::iree_compiler::IREE::PlaceholderOp)

A placeholder op to feed a value/buffer into computation


Syntax:

```
operation ::= `iree.placeholder` `for` $purpose attr-dict `:` type($output)
```

This op is intended as a way to represent a value or buffer that will be fed
into computation. It can host additional attributes related to the value or
buffer. This op can be used for the cases where one need to feed in value or
buffer to computation in a function but cannot do that via the function
argument due to ABI or contract issues.

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
`purpose` | ::mlir::StringAttr | string attribute

#### Results:

| Result | Description |
| :----: | ----------- |
`output` | any type

### `iree.unfoldable_constant` (::mlir::iree_compiler::IREE::UnfoldableConstantOp)

A constant that cannot be folded by the compiler.

Similar to a std.constant, but is declared as having a side effect and has
no folder. This is really just syntactic sugar as it is canonicalized to a
std.constant wrapped in an iree.do_not_optimize.

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
`value` | ::mlir::Attribute | any attribute

#### Results:

| Result | Description |
| :----: | ----------- |
&laquo;unnamed&raquo; | any type

### `iree.unreachable` (::mlir::iree_compiler::IREE::UnreachableOp)

unreachable assertion op


Syntax:

```
operation ::= `iree.unreachable` $message attr-dict
```

Signals to the compiler that the parent block should not be reachable.
This may be converted into a runtime assertion, though ideally they are
stripped during translation.

```mlir
^bb0:
  %true = constant true
  cond_br %true, ^bb2, ^bb1
^bb1:
  // Indicates that this branch should never be taken.
  iree.unreachable "shouldn't be here"
^bb2:
  ...

```

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
`message` | ::mlir::StringAttr | string attribute
