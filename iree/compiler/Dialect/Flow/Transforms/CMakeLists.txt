################################################################################
# Autogenerated by build_tools/bazel_to_cmake/bazel_to_cmake.py from           #
# iree/compiler/Dialect/Flow/Transforms/BUILD                                  #
#                                                                              #
# Use iree_cmake_extra_content from iree/build_defs.oss.bzl to add arbitrary   #
# CMake-only content.                                                          #
#                                                                              #
# To disable autogeneration for this file entirely, delete this header.        #
################################################################################

iree_add_all_subdirs()

iree_tablegen_library(
  NAME
    PassesIncGen
  TD_FILE
    "Passes.td"
  OUTS
    -gen-pass-decls Passes.h.inc
)

iree_cc_library(
  NAME
    Transforms
  HDRS
    "DestructiveUpdateUtils.h"
    "Passes.h"
    "Passes.h.inc"
  SRCS
    "ConvertToFlowTensorOps.cpp"
    "DeduplicateExecutables.cpp"
    "DestructiveUpdateUtils.cpp"
    "DispatchLinalgOnTensors.cpp"
    "ExpandVariableDynamicDims.cpp"
    "ExportBenchmarkFuncs.cpp"
    "FormStreams.cpp"
    "HLOToHLOPreprocessing.cpp"
    "HoistUnstreamableOps.cpp"
    "InjectDispatchTracing.cpp"
    "LegalizeInputTypes.cpp"
    "OutlineDispatchRegions.cpp"
    "OutlineLargeConstants.cpp"
    "PassDetail.h"
    "Passes.cpp"
    "PromoteI1ToI8Pass.cpp"
    "PromoteTensorLoads.cpp"
    "StripAndSplatConstantVariables.cpp"
    "VerifyCompilerInputLegality.cpp"
  DEPS
    LLVMSupport
    MLIRIR
    MLIRLinalg
    MLIRLinalgTransforms
    MLIRMemRef
    MLIRPass
    MLIRSCF
    MLIRSCFToStandard
    MLIRShape
    MLIRShapeOpsTransforms
    MLIRShapeToStandard
    MLIRStandard
    MLIRSupport
    MLIRTensor
    MLIRTosa
    MLIRTosaToLinalg
    MLIRTosaToSCF
    MLIRTosaToStandard
    MLIRTransformUtils
    MLIRTransforms
    iree::compiler::Conversion::Common
    iree::compiler::Conversion::HLOToLinalg
    iree::compiler::Conversion::LinalgToLinalg
    iree::compiler::Conversion::PassHeaders
    iree::compiler::Dialect::Flow::Conversion
    iree::compiler::Dialect::Flow::Conversion::HLOToFlow
    iree::compiler::Dialect::Flow::Conversion::StandardToFlow
    iree::compiler::Dialect::Flow::IR
    iree::compiler::Dialect::HAL::IR
    iree::compiler::Dialect::IREE::IR
    iree::compiler::Dialect::Shape::IR
    iree::compiler::Dialect::Shape::Transforms
    iree::compiler::Dialect::Shape::Utils::TypeConversion
    iree::compiler::Utils
    tensorflow::mlir_hlo
  PUBLIC
)

set_property(SOURCE
  DispatchLinalgOnTensors.cpp
  PROPERTY COMPILE_FLAGS $<$<CXX_COMPILER_ID:GNU>:-fno-devirtualize>)

### BAZEL_TO_CMAKE_PRESERVES_ALL_CONTENT_BELOW_THIS_LINE ###
# TODO: For some reason, these dependencies are not being added automatically.
add_dependencies(
  iree_compiler_Dialect_Flow_Transforms_Transforms
  iree_compiler_Dialect_Flow_Transforms_PassesIncGen
)
