
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://openxla.github.io/iree/reference/mlir-dialects/Stream/">
      
      
        <link rel="prev" href="../HALLoader/">
      
      
        <link rel="next" href="../Util/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.17">
    
    
      
        <title>Stream - IREE</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto:300,300i,400,400i,700,700i%7CNoto+Sans+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto";--md-code-font:"Noto Sans Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/openxla.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stream-dialect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine base classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to community home -->
    <a
      href="https://github.com/openxla/community"
      title="OpenXLA"
      class="md-header__button md-logo"
      aria-label="OpenXLA"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>

    <!-- Link to site home -->
    <a
      href="../../.."
      title="IREE"
      class="md-header__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      <div class="md-header__title">
        IREE
      </div>
    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stream
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="default"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../building-from-source/" class="md-tabs__link">
        Building from source
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../guides/" class="md-tabs__link">
        Guides
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../community/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->


  



<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Community site logo / home page link -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://github.com/openxla/community"
      title="IREE"
      class="md-nav__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>
    <!-- Site title (nav item below links to site home) -->
    IREE
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../building-from-source/">Building from source</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Building from source
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/android/" class="md-nav__link">
        Android cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/ios/" class="md-nav__link">
        iOS cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/riscv/" class="md-nav__link">
        RISC-V cross-compilation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/">Guides</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/ml-frameworks/">ML frameworks</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          ML frameworks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tflite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/jax/" class="md-nav__link">
        JAX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/pytorch/" class="md-nav__link">
        PyTorch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../guides/deployment-configurations/">Deployment configurations</a>
          
            <label for="__nav_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Deployment configurations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/cpu/" class="md-nav__link">
        CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/bare-metal/" class="md-nav__link">
        CPU - Bare-Metal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-vulkan/" class="md-nav__link">
        GPU - Vulkan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-cuda-rocm/" class="md-nav__link">
        GPU - CUDA/ROCm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Reference</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../bindings/">API bindings</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          API bindings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/c-api/" class="md-nav__link">
        Runtime C API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/tensorflow-lite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">MLIR dialects</a>
          
            <label for="__nav_4_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          MLIR dialects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Check/" class="md-nav__link">
        Check
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Flow/" class="md-nav__link">
        Flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HAL/" class="md-nav__link">
        HAL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HALInline/" class="md-nav__link">
        HALInline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../HALLoader/" class="md-nav__link">
        HALLoader
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Stream
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Stream
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#async-control-flow-ops" class="md-nav__link">
    Async control flow ops
  </a>
  
    <nav class="md-nav" aria-label="Async control flow ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamasynccall-streamasynccallop" class="md-nav__link">
    stream.async.call (Stream::AsyncCallOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncconcurrent-streamasyncconcurrentop" class="md-nav__link">
    stream.async.concurrent (Stream::AsyncConcurrentOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncexecute-streamasyncexecuteop" class="md-nav__link">
    stream.async.execute (Stream::AsyncExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncfunc-streamasyncfuncop" class="md-nav__link">
    stream.async.func (Stream::AsyncFuncOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-ops" class="md-nav__link">
    Channel ops
  </a>
  
    <nav class="md-nav" aria-label="Channel ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamchannelcount-streamchannelcountop" class="md-nav__link">
    stream.channel.count (Stream::ChannelCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelcreate-streamchannelcreateop" class="md-nav__link">
    stream.channel.create (Stream::ChannelCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelrank-streamchannelrankop" class="md-nav__link">
    stream.channel.rank (Stream::ChannelRankOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelsplit-streamchannelsplitop" class="md-nav__link">
    stream.channel.split (Stream::ChannelSplitOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-ops" class="md-nav__link">
    Executable ops
  </a>
  
    <nav class="md-nav" aria-label="Executable ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streambindingsubspan-streambindingsubspanop" class="md-nav__link">
    stream.binding.subspan (Stream::BindingSubspanOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutableend-streamexecutableendop" class="md-nav__link">
    stream.executable.end (Stream::ExecutableEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutableexport-streamexecutableexportop" class="md-nav__link">
    stream.executable.export (Stream::ExecutableExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutable-streamexecutableop" class="md-nav__link">
    stream.executable (Stream::ExecutableOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-command-ops" class="md-nav__link">
    Explicit command ops
  </a>
  
    <nav class="md-nav" aria-label="Explicit command ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamcmdcall-streamcmdcallop" class="md-nav__link">
    stream.cmd.call (Stream::CmdCallOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdcollective-streamcmdcollectiveop" class="md-nav__link">
    stream.cmd.collective (Stream::CmdCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdconcurrent-streamcmdconcurrentop" class="md-nav__link">
    stream.cmd.concurrent (Stream::CmdConcurrentOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdcopy-streamcmdcopyop" class="md-nav__link">
    stream.cmd.copy (Stream::CmdCopyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmddiscard-streamcmddiscardop" class="md-nav__link">
    stream.cmd.discard (Stream::CmdDiscardOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmddispatch-streamcmddispatchop" class="md-nav__link">
    stream.cmd.dispatch (Stream::CmdDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdexecute-streamcmdexecuteop" class="md-nav__link">
    stream.cmd.execute (Stream::CmdExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdfill-streamcmdfillop" class="md-nav__link">
    stream.cmd.fill (Stream::CmdFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdflush-streamcmdflushop" class="md-nav__link">
    stream.cmd.flush (Stream::CmdFlushOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdfunc-streamcmdfuncop" class="md-nav__link">
    stream.cmd.func (Stream::CmdFuncOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdinvalidate-streamcmdinvalidateop" class="md-nav__link">
    stream.cmd.invalidate (Stream::CmdInvalidateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdserial-streamcmdserialop" class="md-nav__link">
    stream.cmd.serial (Stream::CmdSerialOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous-ops" class="md-nav__link">
    Miscellaneous ops
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamreturn-streamreturnop" class="md-nav__link">
    stream.return (Stream::ReturnOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamyield-streamyieldop" class="md-nav__link">
    stream.yield (Stream::YieldOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pseudo-ops" class="md-nav__link">
    Pseudo Ops
  </a>
  
    <nav class="md-nav" aria-label="Pseudo Ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtensorexport-streamtensorexportop" class="md-nav__link">
    stream.tensor.export (Stream::TensorExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorimport-streamtensorimportop" class="md-nav__link">
    stream.tensor.import (Stream::TensorImportOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-ops" class="md-nav__link">
    Resource ops
  </a>
  
    <nav class="md-nav" aria-label="Resource ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamresourcealloc-streamresourceallocop" class="md-nav__link">
    stream.resource.alloc (Stream::ResourceAllocOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcealloca-streamresourceallocaop" class="md-nav__link">
    stream.resource.alloca (Stream::ResourceAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourceconstants-streamresourceconstantsop" class="md-nav__link">
    stream.resource.constants (Stream::ResourceConstantsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcedealloca-streamresourcedeallocaop" class="md-nav__link">
    stream.resource.dealloca (Stream::ResourceDeallocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourceload-streamresourceloadop" class="md-nav__link">
    stream.resource.load (Stream::ResourceLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcemap-streamresourcemapop" class="md-nav__link">
    stream.resource.map (Stream::ResourceMapOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcepack-streamresourcepackop" class="md-nav__link">
    stream.resource.pack (Stream::ResourcePackOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcesize-streamresourcesizeop" class="md-nav__link">
    stream.resource.size (Stream::ResourceSizeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcestore-streamresourcestoreop" class="md-nav__link">
    stream.resource.store (Stream::ResourceStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcesubview-streamresourcesubviewop" class="md-nav__link">
    stream.resource.subview (Stream::ResourceSubviewOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcetry_map-streamresourcetrymapop" class="md-nav__link">
    stream.resource.try_map (Stream::ResourceTryMapOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-transfer-ops" class="md-nav__link">
    Resource transfer ops
  </a>
  
    <nav class="md-nav" aria-label="Resource transfer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamasyncalloca-streamasyncallocaop" class="md-nav__link">
    stream.async.alloca (Stream::AsyncAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncclone-streamasynccloneop" class="md-nav__link">
    stream.async.clone (Stream::AsyncCloneOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynccollective-streamasynccollectiveop" class="md-nav__link">
    stream.async.collective (Stream::AsyncCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncconstant-streamasyncconstantop" class="md-nav__link">
    stream.async.constant (Stream::AsyncConstantOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynccopy-streamasynccopyop" class="md-nav__link">
    stream.async.copy (Stream::AsyncCopyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncdispatch-streamasyncdispatchop" class="md-nav__link">
    stream.async.dispatch (Stream::AsyncDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncfill-streamasyncfillop" class="md-nav__link">
    stream.async.fill (Stream::AsyncFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncload-streamasyncloadop" class="md-nav__link">
    stream.async.load (Stream::AsyncLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncslice-streamasyncsliceop" class="md-nav__link">
    stream.async.slice (Stream::AsyncSliceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncsplat-streamasyncsplatop" class="md-nav__link">
    stream.async.splat (Stream::AsyncSplatOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncstore-streamasyncstoreop" class="md-nav__link">
    stream.async.store (Stream::AsyncStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynctransfer-streamasynctransferop" class="md-nav__link">
    stream.async.transfer (Stream::AsyncTransferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncupdate-streamasyncupdateop" class="md-nav__link">
    stream.async.update (Stream::AsyncUpdateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronization-ops" class="md-nav__link">
    Synchronization ops
  </a>
  
    <nav class="md-nav" aria-label="Synchronization ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtimepointawait-streamtimepointawaitop" class="md-nav__link">
    stream.timepoint.await (Stream::TimepointAwaitOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointbarrier-streamtimepointbarrierop" class="md-nav__link">
    stream.timepoint.barrier (Stream::TimepointBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointchain_external-streamtimepointchainexternalop" class="md-nav__link">
    stream.timepoint.chain_external (Stream::TimepointChainExternalOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointexport-streamtimepointexportop" class="md-nav__link">
    stream.timepoint.export (Stream::TimepointExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointimmediate-streamtimepointimmediateop" class="md-nav__link">
    stream.timepoint.immediate (Stream::TimepointImmediateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointimport-streamtimepointimportop" class="md-nav__link">
    stream.timepoint.import (Stream::TimepointImportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointjoin-streamtimepointjoinop" class="md-nav__link">
    stream.timepoint.join (Stream::TimepointJoinOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tensor-ops" class="md-nav__link">
    Tensor ops
  </a>
  
    <nav class="md-nav" aria-label="Tensor ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtensorclone-streamtensorcloneop" class="md-nav__link">
    stream.tensor.clone (Stream::TensorCloneOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorconstant-streamtensorconstantop" class="md-nav__link">
    stream.tensor.constant (Stream::TensorConstantOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorempty-streamtensoremptyop" class="md-nav__link">
    stream.tensor.empty (Stream::TensorEmptyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorfill-streamtensorfillop" class="md-nav__link">
    stream.tensor.fill (Stream::TensorFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorload-streamtensorloadop" class="md-nav__link">
    stream.tensor.load (Stream::TensorLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorsizeof-streamtensorsizeofop" class="md-nav__link">
    stream.tensor.sizeof (Stream::TensorSizeOfOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorslice-streamtensorsliceop" class="md-nav__link">
    stream.tensor.slice (Stream::TensorSliceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorsplat-streamtensorsplatop" class="md-nav__link">
    stream.tensor.splat (Stream::TensorSplatOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorstore-streamtensorstoreop" class="md-nav__link">
    stream.tensor.store (Stream::TensorStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensortrace-streamtensortraceop" class="md-nav__link">
    stream.tensor.trace (Stream::TensorTraceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorupdate-streamtensorupdateop" class="md-nav__link">
    stream.tensor.update (Stream::TensorUpdateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-definition" class="md-nav__link">
    Attribute definition
  </a>
  
    <nav class="md-nav" aria-label="Attribute definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collectiveattr" class="md-nav__link">
    CollectiveAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioningconfigattr" class="md-nav__link">
    PartitioningConfigAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourceconfigattr" class="md-nav__link">
    ResourceConfigAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timepointattr" class="md-nav__link">
    TimepointAttr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-constraint-definition" class="md-nav__link">
    Type constraint definition
  </a>
  
    <nav class="md-nav" aria-label="Type constraint definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-resource" class="md-nav__link">
    constant resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-resource" class="md-nav__link">
    external resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-resource" class="md-nav__link">
    staging resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transient-resource" class="md-nav__link">
    transient resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource" class="md-nav__link">
    resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-resource" class="md-nav__link">
    variable resource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-definition" class="md-nav__link">
    Type definition
  </a>
  
    <nav class="md-nav" aria-label="Type definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bindingtype" class="md-nav__link">
    BindingType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeltype" class="md-nav__link">
    ChannelType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourcetype" class="md-nav__link">
    ResourceType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timepointtype" class="md-nav__link">
    TimepointType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Util/" class="md-nav__link">
        Util
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VM/" class="md-nav__link">
        VM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VMVX/" class="md-nav__link">
        VMVX
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Other topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Other topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization-options/" class="md-nav__link">
        Optimization options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/" class="md-nav__link">
        Extensions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../community/">Community</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../community/blog/">Blog</a>
          
            <label for="__nav_5_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-10-15-cuda-backend/" class="md-nav__link">
        CUDA backend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-10-13-mmt4d/" class="md-nav__link">
        Work in progress on Matrix Multiplication on CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/2021-07-19-tflite-tosa/" class="md-nav__link">
        TFLite Support via TOSA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#async-control-flow-ops" class="md-nav__link">
    Async control flow ops
  </a>
  
    <nav class="md-nav" aria-label="Async control flow ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamasynccall-streamasynccallop" class="md-nav__link">
    stream.async.call (Stream::AsyncCallOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncconcurrent-streamasyncconcurrentop" class="md-nav__link">
    stream.async.concurrent (Stream::AsyncConcurrentOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncexecute-streamasyncexecuteop" class="md-nav__link">
    stream.async.execute (Stream::AsyncExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncfunc-streamasyncfuncop" class="md-nav__link">
    stream.async.func (Stream::AsyncFuncOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel-ops" class="md-nav__link">
    Channel ops
  </a>
  
    <nav class="md-nav" aria-label="Channel ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamchannelcount-streamchannelcountop" class="md-nav__link">
    stream.channel.count (Stream::ChannelCountOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelcreate-streamchannelcreateop" class="md-nav__link">
    stream.channel.create (Stream::ChannelCreateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelrank-streamchannelrankop" class="md-nav__link">
    stream.channel.rank (Stream::ChannelRankOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamchannelsplit-streamchannelsplitop" class="md-nav__link">
    stream.channel.split (Stream::ChannelSplitOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-ops" class="md-nav__link">
    Executable ops
  </a>
  
    <nav class="md-nav" aria-label="Executable ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streambindingsubspan-streambindingsubspanop" class="md-nav__link">
    stream.binding.subspan (Stream::BindingSubspanOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutableend-streamexecutableendop" class="md-nav__link">
    stream.executable.end (Stream::ExecutableEndOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutableexport-streamexecutableexportop" class="md-nav__link">
    stream.executable.export (Stream::ExecutableExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamexecutable-streamexecutableop" class="md-nav__link">
    stream.executable (Stream::ExecutableOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicit-command-ops" class="md-nav__link">
    Explicit command ops
  </a>
  
    <nav class="md-nav" aria-label="Explicit command ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamcmdcall-streamcmdcallop" class="md-nav__link">
    stream.cmd.call (Stream::CmdCallOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdcollective-streamcmdcollectiveop" class="md-nav__link">
    stream.cmd.collective (Stream::CmdCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdconcurrent-streamcmdconcurrentop" class="md-nav__link">
    stream.cmd.concurrent (Stream::CmdConcurrentOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdcopy-streamcmdcopyop" class="md-nav__link">
    stream.cmd.copy (Stream::CmdCopyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmddiscard-streamcmddiscardop" class="md-nav__link">
    stream.cmd.discard (Stream::CmdDiscardOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmddispatch-streamcmddispatchop" class="md-nav__link">
    stream.cmd.dispatch (Stream::CmdDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdexecute-streamcmdexecuteop" class="md-nav__link">
    stream.cmd.execute (Stream::CmdExecuteOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdfill-streamcmdfillop" class="md-nav__link">
    stream.cmd.fill (Stream::CmdFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdflush-streamcmdflushop" class="md-nav__link">
    stream.cmd.flush (Stream::CmdFlushOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdfunc-streamcmdfuncop" class="md-nav__link">
    stream.cmd.func (Stream::CmdFuncOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdinvalidate-streamcmdinvalidateop" class="md-nav__link">
    stream.cmd.invalidate (Stream::CmdInvalidateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamcmdserial-streamcmdserialop" class="md-nav__link">
    stream.cmd.serial (Stream::CmdSerialOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous-ops" class="md-nav__link">
    Miscellaneous ops
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamreturn-streamreturnop" class="md-nav__link">
    stream.return (Stream::ReturnOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamyield-streamyieldop" class="md-nav__link">
    stream.yield (Stream::YieldOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pseudo-ops" class="md-nav__link">
    Pseudo Ops
  </a>
  
    <nav class="md-nav" aria-label="Pseudo Ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtensorexport-streamtensorexportop" class="md-nav__link">
    stream.tensor.export (Stream::TensorExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorimport-streamtensorimportop" class="md-nav__link">
    stream.tensor.import (Stream::TensorImportOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-ops" class="md-nav__link">
    Resource ops
  </a>
  
    <nav class="md-nav" aria-label="Resource ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamresourcealloc-streamresourceallocop" class="md-nav__link">
    stream.resource.alloc (Stream::ResourceAllocOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcealloca-streamresourceallocaop" class="md-nav__link">
    stream.resource.alloca (Stream::ResourceAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourceconstants-streamresourceconstantsop" class="md-nav__link">
    stream.resource.constants (Stream::ResourceConstantsOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcedealloca-streamresourcedeallocaop" class="md-nav__link">
    stream.resource.dealloca (Stream::ResourceDeallocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourceload-streamresourceloadop" class="md-nav__link">
    stream.resource.load (Stream::ResourceLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcemap-streamresourcemapop" class="md-nav__link">
    stream.resource.map (Stream::ResourceMapOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcepack-streamresourcepackop" class="md-nav__link">
    stream.resource.pack (Stream::ResourcePackOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcesize-streamresourcesizeop" class="md-nav__link">
    stream.resource.size (Stream::ResourceSizeOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcestore-streamresourcestoreop" class="md-nav__link">
    stream.resource.store (Stream::ResourceStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcesubview-streamresourcesubviewop" class="md-nav__link">
    stream.resource.subview (Stream::ResourceSubviewOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamresourcetry_map-streamresourcetrymapop" class="md-nav__link">
    stream.resource.try_map (Stream::ResourceTryMapOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-transfer-ops" class="md-nav__link">
    Resource transfer ops
  </a>
  
    <nav class="md-nav" aria-label="Resource transfer ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamasyncalloca-streamasyncallocaop" class="md-nav__link">
    stream.async.alloca (Stream::AsyncAllocaOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncclone-streamasynccloneop" class="md-nav__link">
    stream.async.clone (Stream::AsyncCloneOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynccollective-streamasynccollectiveop" class="md-nav__link">
    stream.async.collective (Stream::AsyncCollectiveOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncconstant-streamasyncconstantop" class="md-nav__link">
    stream.async.constant (Stream::AsyncConstantOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynccopy-streamasynccopyop" class="md-nav__link">
    stream.async.copy (Stream::AsyncCopyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncdispatch-streamasyncdispatchop" class="md-nav__link">
    stream.async.dispatch (Stream::AsyncDispatchOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncfill-streamasyncfillop" class="md-nav__link">
    stream.async.fill (Stream::AsyncFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncload-streamasyncloadop" class="md-nav__link">
    stream.async.load (Stream::AsyncLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncslice-streamasyncsliceop" class="md-nav__link">
    stream.async.slice (Stream::AsyncSliceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncsplat-streamasyncsplatop" class="md-nav__link">
    stream.async.splat (Stream::AsyncSplatOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncstore-streamasyncstoreop" class="md-nav__link">
    stream.async.store (Stream::AsyncStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasynctransfer-streamasynctransferop" class="md-nav__link">
    stream.async.transfer (Stream::AsyncTransferOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamasyncupdate-streamasyncupdateop" class="md-nav__link">
    stream.async.update (Stream::AsyncUpdateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronization-ops" class="md-nav__link">
    Synchronization ops
  </a>
  
    <nav class="md-nav" aria-label="Synchronization ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtimepointawait-streamtimepointawaitop" class="md-nav__link">
    stream.timepoint.await (Stream::TimepointAwaitOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointbarrier-streamtimepointbarrierop" class="md-nav__link">
    stream.timepoint.barrier (Stream::TimepointBarrierOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointchain_external-streamtimepointchainexternalop" class="md-nav__link">
    stream.timepoint.chain_external (Stream::TimepointChainExternalOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointexport-streamtimepointexportop" class="md-nav__link">
    stream.timepoint.export (Stream::TimepointExportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointimmediate-streamtimepointimmediateop" class="md-nav__link">
    stream.timepoint.immediate (Stream::TimepointImmediateOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointimport-streamtimepointimportop" class="md-nav__link">
    stream.timepoint.import (Stream::TimepointImportOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtimepointjoin-streamtimepointjoinop" class="md-nav__link">
    stream.timepoint.join (Stream::TimepointJoinOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tensor-ops" class="md-nav__link">
    Tensor ops
  </a>
  
    <nav class="md-nav" aria-label="Tensor ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamtensorclone-streamtensorcloneop" class="md-nav__link">
    stream.tensor.clone (Stream::TensorCloneOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorconstant-streamtensorconstantop" class="md-nav__link">
    stream.tensor.constant (Stream::TensorConstantOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorempty-streamtensoremptyop" class="md-nav__link">
    stream.tensor.empty (Stream::TensorEmptyOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorfill-streamtensorfillop" class="md-nav__link">
    stream.tensor.fill (Stream::TensorFillOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorload-streamtensorloadop" class="md-nav__link">
    stream.tensor.load (Stream::TensorLoadOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorsizeof-streamtensorsizeofop" class="md-nav__link">
    stream.tensor.sizeof (Stream::TensorSizeOfOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorslice-streamtensorsliceop" class="md-nav__link">
    stream.tensor.slice (Stream::TensorSliceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorsplat-streamtensorsplatop" class="md-nav__link">
    stream.tensor.splat (Stream::TensorSplatOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorstore-streamtensorstoreop" class="md-nav__link">
    stream.tensor.store (Stream::TensorStoreOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensortrace-streamtensortraceop" class="md-nav__link">
    stream.tensor.trace (Stream::TensorTraceOp)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamtensorupdate-streamtensorupdateop" class="md-nav__link">
    stream.tensor.update (Stream::TensorUpdateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-definition" class="md-nav__link">
    Attribute definition
  </a>
  
    <nav class="md-nav" aria-label="Attribute definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collectiveattr" class="md-nav__link">
    CollectiveAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioningconfigattr" class="md-nav__link">
    PartitioningConfigAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourceconfigattr" class="md-nav__link">
    ResourceConfigAttr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timepointattr" class="md-nav__link">
    TimepointAttr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-constraint-definition" class="md-nav__link">
    Type constraint definition
  </a>
  
    <nav class="md-nav" aria-label="Type constraint definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-resource" class="md-nav__link">
    constant resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-resource" class="md-nav__link">
    external resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-resource" class="md-nav__link">
    staging resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transient-resource" class="md-nav__link">
    transient resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource" class="md-nav__link">
    resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-resource" class="md-nav__link">
    variable resource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-definition" class="md-nav__link">
    Type definition
  </a>
  
    <nav class="md-nav" aria-label="Type definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bindingtype" class="md-nav__link">
    BindingType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeltype" class="md-nav__link">
    ChannelType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resourcetype" class="md-nav__link">
    ResourceType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timepointtype" class="md-nav__link">
    TimepointType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<!-- Autogenerated by mlir-tblgen; don't manually edit -->
<h1 id="stream-dialect">'stream' Dialect<a class="headerlink" href="#stream-dialect" title="Permanent link">link</a></h1>
<p>A dialect designed to model execution partitioning and scheduling.</p>
<p>The stream dialect is designed to take tensor programs and convert them to
explicitly scheduled asynchronous programs. This includes placing ops on
specific targets, partitioning the work between the targets, scheduling the
work for concurrency, and encoding tensors into target-specific resources.</p>
<div class="highlight"><pre><span></span><code>+--------+    +----------+    +-------+
| flow.* | -&gt; | stream.* | -&gt; | hal.* |
+--------+    +----------+    +-------+
</code></pre></div>
<p>This sits in-between the <code>flow</code> and <code>hal</code> dialects.</p>
<ul>
<li>
<p><code>flow</code> models tensor programs by separating work into dispatchable
  functions in order to isolate the main host program data flow and the
  dense tensor compute operations.</p>
</li>
<li>
<p><code>stream</code> models explicitly scheduled asynchronous programs by partitioning
  the dispatchable work, specifying target affinities, encoding tensors into
  target-specific forms, and scheduling the work to run concurrently.</p>
</li>
<li>
<p><code>hal</code> models a low-level hardware abstraction layer used to manage
  buffers and issue asynchronous work across a variety of device types. The
  dialect is largely 1:1 with the IREE HAL C API.</p>
</li>
</ul>
<p>Transforms in the dialect lower tensor values into opaque resources with the
goal of ensuring no tensors survive in the IR. At entry <code>stream.tensor.*</code>
ops are used to capture the source tensor encoding information (data type,
shapes, etc) and then lowered into <code>stream.async.*</code> ops that model the
asynchronous workloads on the opaque resources. The asynchronous operations
are then partitioned, allocated, and scheduled for execution using the
<code>stream.cmd.*</code> ops.</p>
<p>It's intended that after transformation through the stream dialect the
program is ready for execution on an abstract machine. At this level of
representation buffers have still not been allocated and devices are not
yet resolved, however the information captured in the <code>stream</code> IR allows
such operations to be done trivially. To this end all ops carry the symbolic
size of the resources on which they operate as well as the lifetime of the
resources they are acting upon. This manifests in the usage of the
<code>!stream.resource</code> type:</p>
<div class="highlight"><pre><span></span><code>// Unresolved lifetime (resolved during the iree-stream-refine-usage pass):
!stream.resource&lt;*&gt;
// An externally managed value (passed in via the program API).
!stream.resource&lt;external&gt;
// A staging buffer for uploads/downloads.
!stream.resource&lt;staging&gt;
// A short-lived value that is used across streams.
!stream.resource&lt;transient&gt;
// A long-lived value that persists across streams in globals.
!stream.resource&lt;variable&gt;
// An immutable value that persists for the duration of the program.
!stream.resource&lt;constant&gt;
</code></pre></div>
<p>Operations using resources carry the size of all operand result resources:</p>
<div class="highlight"><pre><span></span><code>// %update (40 bytes) is being inserted into %target (296 bytes).
// Can be dynamic values such as those originating from dynamic dimensions.
%13 = stream.async.update %update, %target[%c256 to %c296] :
    !stream.resource&lt;transient&gt;{%c40} -&gt;
    %target as !stream.resource&lt;transient&gt;{%c296}
</code></pre></div>
<p>Once all <code>stream.async.*</code> work is moved into executable regions (such as
<code>stream.async.execute</code>) <code>!stream.timepoint</code> values are used to sequence
the execution. These timepoints represent some point in time where all
execution up to that timepoint has completed and any results that were
produced by the execution are available for use. Attempting to use the
resources before their corresponding timepoint has been reached will lead
to undefined behavior. The benefit of this is that after timepoints are
established in the IR it's possible to induce aliasing of resources without
breaking execution correctness.</p>
<div class="toc">
<ul>
<li><a href="#stream-dialect">'stream' Dialect</a><ul>
<li><a href="#operation-definition">Operation definition</a><ul>
<li><a href="#async-control-flow-ops">Async control flow ops</a><ul>
<li><a href="#streamasynccall-streamasynccallop">stream.async.call (Stream::AsyncCallOp)</a></li>
<li><a href="#streamasyncconcurrent-streamasyncconcurrentop">stream.async.concurrent (Stream::AsyncConcurrentOp)</a></li>
<li><a href="#streamasyncexecute-streamasyncexecuteop">stream.async.execute (Stream::AsyncExecuteOp)</a></li>
<li><a href="#streamasyncfunc-streamasyncfuncop">stream.async.func (Stream::AsyncFuncOp)</a></li>
</ul>
</li>
<li><a href="#channel-ops">Channel ops</a><ul>
<li><a href="#streamchannelcount-streamchannelcountop">stream.channel.count (Stream::ChannelCountOp)</a></li>
<li><a href="#streamchannelcreate-streamchannelcreateop">stream.channel.create (Stream::ChannelCreateOp)</a></li>
<li><a href="#streamchannelrank-streamchannelrankop">stream.channel.rank (Stream::ChannelRankOp)</a></li>
<li><a href="#streamchannelsplit-streamchannelsplitop">stream.channel.split (Stream::ChannelSplitOp)</a></li>
</ul>
</li>
<li><a href="#executable-ops">Executable ops</a><ul>
<li><a href="#streambindingsubspan-streambindingsubspanop">stream.binding.subspan (Stream::BindingSubspanOp)</a></li>
<li><a href="#streamexecutableend-streamexecutableendop">stream.executable.end (Stream::ExecutableEndOp)</a></li>
<li><a href="#streamexecutableexport-streamexecutableexportop">stream.executable.export (Stream::ExecutableExportOp)</a></li>
<li><a href="#streamexecutable-streamexecutableop">stream.executable (Stream::ExecutableOp)</a></li>
</ul>
</li>
<li><a href="#explicit-command-ops">Explicit command ops</a><ul>
<li><a href="#streamcmdcall-streamcmdcallop">stream.cmd.call (Stream::CmdCallOp)</a></li>
<li><a href="#streamcmdcollective-streamcmdcollectiveop">stream.cmd.collective (Stream::CmdCollectiveOp)</a></li>
<li><a href="#streamcmdconcurrent-streamcmdconcurrentop">stream.cmd.concurrent (Stream::CmdConcurrentOp)</a></li>
<li><a href="#streamcmdcopy-streamcmdcopyop">stream.cmd.copy (Stream::CmdCopyOp)</a></li>
<li><a href="#streamcmddiscard-streamcmddiscardop">stream.cmd.discard (Stream::CmdDiscardOp)</a></li>
<li><a href="#streamcmddispatch-streamcmddispatchop">stream.cmd.dispatch (Stream::CmdDispatchOp)</a></li>
<li><a href="#streamcmdexecute-streamcmdexecuteop">stream.cmd.execute (Stream::CmdExecuteOp)</a></li>
<li><a href="#streamcmdfill-streamcmdfillop">stream.cmd.fill (Stream::CmdFillOp)</a></li>
<li><a href="#streamcmdflush-streamcmdflushop">stream.cmd.flush (Stream::CmdFlushOp)</a></li>
<li><a href="#streamcmdfunc-streamcmdfuncop">stream.cmd.func (Stream::CmdFuncOp)</a></li>
<li><a href="#streamcmdinvalidate-streamcmdinvalidateop">stream.cmd.invalidate (Stream::CmdInvalidateOp)</a></li>
<li><a href="#streamcmdserial-streamcmdserialop">stream.cmd.serial (Stream::CmdSerialOp)</a></li>
</ul>
</li>
<li><a href="#miscellaneous-ops">Miscellaneous ops</a><ul>
<li><a href="#streamreturn-streamreturnop">stream.return (Stream::ReturnOp)</a></li>
<li><a href="#streamyield-streamyieldop">stream.yield (Stream::YieldOp)</a></li>
</ul>
</li>
<li><a href="#pseudo-ops">Pseudo Ops</a><ul>
<li><a href="#streamtensorexport-streamtensorexportop">stream.tensor.export (Stream::TensorExportOp)</a></li>
<li><a href="#streamtensorimport-streamtensorimportop">stream.tensor.import (Stream::TensorImportOp)</a></li>
</ul>
</li>
<li><a href="#resource-ops">Resource ops</a><ul>
<li><a href="#streamresourcealloc-streamresourceallocop">stream.resource.alloc (Stream::ResourceAllocOp)</a></li>
<li><a href="#streamresourcealloca-streamresourceallocaop">stream.resource.alloca (Stream::ResourceAllocaOp)</a></li>
<li><a href="#streamresourceconstants-streamresourceconstantsop">stream.resource.constants (Stream::ResourceConstantsOp)</a></li>
<li><a href="#streamresourcedealloca-streamresourcedeallocaop">stream.resource.dealloca (Stream::ResourceDeallocaOp)</a></li>
<li><a href="#streamresourceload-streamresourceloadop">stream.resource.load (Stream::ResourceLoadOp)</a></li>
<li><a href="#streamresourcemap-streamresourcemapop">stream.resource.map (Stream::ResourceMapOp)</a></li>
<li><a href="#streamresourcepack-streamresourcepackop">stream.resource.pack (Stream::ResourcePackOp)</a></li>
<li><a href="#streamresourcesize-streamresourcesizeop">stream.resource.size (Stream::ResourceSizeOp)</a></li>
<li><a href="#streamresourcestore-streamresourcestoreop">stream.resource.store (Stream::ResourceStoreOp)</a></li>
<li><a href="#streamresourcesubview-streamresourcesubviewop">stream.resource.subview (Stream::ResourceSubviewOp)</a></li>
<li><a href="#streamresourcetry_map-streamresourcetrymapop">stream.resource.try_map (Stream::ResourceTryMapOp)</a></li>
</ul>
</li>
<li><a href="#resource-transfer-ops">Resource transfer ops</a><ul>
<li><a href="#streamasyncalloca-streamasyncallocaop">stream.async.alloca (Stream::AsyncAllocaOp)</a></li>
<li><a href="#streamasyncclone-streamasynccloneop">stream.async.clone (Stream::AsyncCloneOp)</a></li>
<li><a href="#streamasynccollective-streamasynccollectiveop">stream.async.collective (Stream::AsyncCollectiveOp)</a></li>
<li><a href="#streamasyncconstant-streamasyncconstantop">stream.async.constant (Stream::AsyncConstantOp)</a></li>
<li><a href="#streamasynccopy-streamasynccopyop">stream.async.copy (Stream::AsyncCopyOp)</a></li>
<li><a href="#streamasyncdispatch-streamasyncdispatchop">stream.async.dispatch (Stream::AsyncDispatchOp)</a></li>
<li><a href="#streamasyncfill-streamasyncfillop">stream.async.fill (Stream::AsyncFillOp)</a></li>
<li><a href="#streamasyncload-streamasyncloadop">stream.async.load (Stream::AsyncLoadOp)</a></li>
<li><a href="#streamasyncslice-streamasyncsliceop">stream.async.slice (Stream::AsyncSliceOp)</a></li>
<li><a href="#streamasyncsplat-streamasyncsplatop">stream.async.splat (Stream::AsyncSplatOp)</a></li>
<li><a href="#streamasyncstore-streamasyncstoreop">stream.async.store (Stream::AsyncStoreOp)</a></li>
<li><a href="#streamasynctransfer-streamasynctransferop">stream.async.transfer (Stream::AsyncTransferOp)</a></li>
<li><a href="#streamasyncupdate-streamasyncupdateop">stream.async.update (Stream::AsyncUpdateOp)</a></li>
</ul>
</li>
<li><a href="#synchronization-ops">Synchronization ops</a><ul>
<li><a href="#streamtimepointawait-streamtimepointawaitop">stream.timepoint.await (Stream::TimepointAwaitOp)</a></li>
<li><a href="#streamtimepointbarrier-streamtimepointbarrierop">stream.timepoint.barrier (Stream::TimepointBarrierOp)</a></li>
<li><a href="#streamtimepointchain_external-streamtimepointchainexternalop">stream.timepoint.chain_external (Stream::TimepointChainExternalOp)</a></li>
<li><a href="#streamtimepointexport-streamtimepointexportop">stream.timepoint.export (Stream::TimepointExportOp)</a></li>
<li><a href="#streamtimepointimmediate-streamtimepointimmediateop">stream.timepoint.immediate (Stream::TimepointImmediateOp)</a></li>
<li><a href="#streamtimepointimport-streamtimepointimportop">stream.timepoint.import (Stream::TimepointImportOp)</a></li>
<li><a href="#streamtimepointjoin-streamtimepointjoinop">stream.timepoint.join (Stream::TimepointJoinOp)</a></li>
</ul>
</li>
<li><a href="#tensor-ops">Tensor ops</a><ul>
<li><a href="#streamtensorclone-streamtensorcloneop">stream.tensor.clone (Stream::TensorCloneOp)</a></li>
<li><a href="#streamtensorconstant-streamtensorconstantop">stream.tensor.constant (Stream::TensorConstantOp)</a></li>
<li><a href="#streamtensorempty-streamtensoremptyop">stream.tensor.empty (Stream::TensorEmptyOp)</a></li>
<li><a href="#streamtensorfill-streamtensorfillop">stream.tensor.fill (Stream::TensorFillOp)</a></li>
<li><a href="#streamtensorload-streamtensorloadop">stream.tensor.load (Stream::TensorLoadOp)</a></li>
<li><a href="#streamtensorsizeof-streamtensorsizeofop">stream.tensor.sizeof (Stream::TensorSizeOfOp)</a></li>
<li><a href="#streamtensorslice-streamtensorsliceop">stream.tensor.slice (Stream::TensorSliceOp)</a></li>
<li><a href="#streamtensorsplat-streamtensorsplatop">stream.tensor.splat (Stream::TensorSplatOp)</a></li>
<li><a href="#streamtensorstore-streamtensorstoreop">stream.tensor.store (Stream::TensorStoreOp)</a></li>
<li><a href="#streamtensortrace-streamtensortraceop">stream.tensor.trace (Stream::TensorTraceOp)</a></li>
<li><a href="#streamtensorupdate-streamtensorupdateop">stream.tensor.update (Stream::TensorUpdateOp)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#attribute-definition">Attribute definition</a><ul>
<li><a href="#collectiveattr">CollectiveAttr</a></li>
<li><a href="#partitioningconfigattr">PartitioningConfigAttr</a></li>
<li><a href="#resourceconfigattr">ResourceConfigAttr</a></li>
<li><a href="#timepointattr">TimepointAttr</a></li>
</ul>
</li>
<li><a href="#type-constraint-definition">Type constraint definition</a><ul>
<li><a href="#constant-resource">constant resource</a></li>
<li><a href="#external-resource">external resource</a></li>
<li><a href="#staging-resource">staging resource</a></li>
<li><a href="#transient-resource">transient resource</a></li>
<li><a href="#resource">resource</a></li>
<li><a href="#variable-resource">variable resource</a></li>
</ul>
</li>
<li><a href="#type-definition">Type definition</a><ul>
<li><a href="#bindingtype">BindingType</a></li>
<li><a href="#channeltype">ChannelType</a></li>
<li><a href="#resourcetype">ResourceType</a></li>
<li><a href="#timepointtype">TimepointType</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="operation-definition">Operation definition<a class="headerlink" href="#operation-definition" title="Permanent link">link</a></h2>
<h3 id="async-control-flow-ops">Async control flow ops<a class="headerlink" href="#async-control-flow-ops" title="Permanent link">link</a></h3>
<h4 id="streamasynccall-streamasynccallop"><code>stream.async.call</code> (Stream::AsyncCallOp)<a class="headerlink" href="#streamasynccall-streamasynccallop" title="Permanent link">link</a></h4>
<p><em>Calls a streamable external host function</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.call` (`on` `(` $affinity^ `)`)?
              $callee ``
              custom&lt;DispatchOperands&gt;($resource_operands,
              $resource_operand_offsets,
              $resource_operand_ends,
              $resource_operand_lengths) attr-dict `:`
              custom&lt;ShapedFunctionType&gt;(ref($resource_operands),
              type($resource_operands), $resource_operand_sizes,
              type($results), $result_sizes,
              $tied_operands)
</code></pre></div>
<p>Calls a function taking/returning resource values with stream semantics.
Asynchronous calls must have no side-effects.</p>
<p>Note that returned resources must have their sizes declared prior to the
call as this is what allows the call to be made on the stream. If external
host logic is required to compute the size (avoid at all costs!) a separate
func.call can be used outside of the stream to do so. If sizes are
unknownable until the operation is performed it should be made as a normal
asynchronous host call with 'coarse-fences' instead.</p>
<p>Traits: AttrSizedOperandSegments, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, CallOpInterface, Stream_AffinityOp, Stream_StreamableOp, SymbolUserOpInterface, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes">Attributes:<a class="headerlink" href="#attributes" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>callee</code></td>
<td align="center">::mlir::FlatSymbolRefAttr</td>
<td>flat symbol reference attribute</td>
</tr>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands">Operands:<a class="headerlink" href="#operands" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or index or integer or floating-point or complex-type or any type</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_ends</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_lengths</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results">Results:<a class="headerlink" href="#results" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or index or integer or floating-point or complex-type</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncconcurrent-streamasyncconcurrentop"><code>stream.async.concurrent</code> (Stream::AsyncConcurrentOp)<a class="headerlink" href="#streamasyncconcurrent-streamasyncconcurrentop" title="Permanent link">link</a></h4>
<p><em>Executes all ops concurrently</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.concurrent` (`on` `(` $affinity^ `)`)?
              `with` ``
              custom&lt;ResourceRegion&gt;($resource_operands,
              type($resource_operands), $resource_operand_sizes,
              type($results), $result_sizes,
              $tied_operands, $body)
              attr-dict-with-keyword
</code></pre></div>
<p>Represents a wave of work scheduled concurrently (each op executing at the
same time). All resource inputs must be captured explicitly. All results are
only ready once all nested ops complete execution.</p>
<p>Waves can be nested to create a DAG. For example, take the following graph:
<div class="highlight"><pre><span></span><code>                  |
        v---------+---------v
+-------|-------+   +-------|-------+
|    v--+--v    |   |    v--+--v    |
| +----+ +----+ |   | +----+ +----+ |
| | %a | | %b | |   | | %c | | %d | |
| +----+ +----+ |   | +----+ +----+ |
|    +--v--+    |   |    +--v--+    |
+-------|-------+   +-------|-------+
        +---------v---------+
                  |
</code></pre></div></p>
<p>Represented with nested waves:
<div class="highlight"><pre><span></span><code>  %0 = stream.async.concurrent with(%arg) -&gt; ... {
    %1 = stream.async.concurrent with(%arg as %arg0) -&gt; ... {
      %a = ...
      %b = ...
      stream.yield %a, %b
    }
    %2 = stream.async.concurrent with(%arg as %arg1) -&gt; ... {
      %c = ...
      %d = ...
      stream.yield %c, %d
    }
    stream.yield %1, %2
  }
</code></pre></div></p>
<p>Traits: AttrSizedOperandSegments, HasParent<IREE::Stream::AsyncExecuteOp, IREE::Stream::AsyncConcurrentOp>, RecursiveMemoryEffects, SingleBlockImplicitTerminator<IREE::Stream::YieldOp>, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, ClosureOpInterface, RegionBranchOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_1">Attributes:<a class="headerlink" href="#attributes_1" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_1">Operands:<a class="headerlink" href="#operands_1" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_1">Results:<a class="headerlink" href="#results_1" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncexecute-streamasyncexecuteop"><code>stream.async.execute</code> (Stream::AsyncExecuteOp)<a class="headerlink" href="#streamasyncexecute-streamasyncexecuteop" title="Permanent link">link</a></h4>
<p><em>Executes a dependency-aware sequence of streamable ops</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.execute` (`on` `(` $affinity^ `)`)?
              (`await` `(` $await_timepoint^ `)` `=` `` `&gt;`)?
              `with` ``
              custom&lt;ResourceRegion&gt;($resource_operands,
              type($resource_operands), $resource_operand_sizes,
              type($results), $result_sizes,
              $tied_operands, $body)
              `=` `` `&gt;` type($result_timepoint)
              attr-dict-with-keyword
</code></pre></div>
<p>Evaluates the operations within the region by dependency order while obeying
ties when present. Nested ops execute serially in block order and nested
<code>stream.async.concurrent</code> ops can be used to run multiple ops concurrently
within the stream. All resource inputs must be captured explicitly. All
results are only ready once all nested ops complete execution and the
returned timepoint is reached. Zero or more timepoints may be provided to
block execution until they are all reached; zero timepoints indicates that
execution may begin immediately.</p>
<p>Traits: AttrSizedOperandSegments, RecursiveMemoryEffects, SingleBlockImplicitTerminator<IREE::Stream::YieldOp>, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, ClosureOpInterface, RegionBranchOpInterface, Stream_AffinityOp, Stream_TimelineOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_2">Attributes:<a class="headerlink" href="#attributes_2" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_2">Operands:<a class="headerlink" href="#operands_2" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_2">Results:<a class="headerlink" href="#results_2" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncfunc-streamasyncfuncop"><code>stream.async.func</code> (Stream::AsyncFuncOp)<a class="headerlink" href="#streamasyncfunc-streamasyncfuncop" title="Permanent link">link</a></h4>
<p><em>Streamable function declaration</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.func` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              ``
              custom&lt;ShapedFunctionSignature&gt;($function_type,
              $tied_operands,
              $arg_attrs,
              $res_attrs)
              attr-dict-with-keyword
              ($body^)?
</code></pre></div>
<p>Declares a function that can be called as an asynchronous streaming
operation via <code>stream.async.call</code>. Today only external functions are
allowed.</p>
<p>Traits: IsolatedFromAbove, Stream_AsyncPhaseOp</p>
<p>Interfaces: CallableOpInterface, FunctionOpInterface, Symbol</p>
<h5 id="attributes_3">Attributes:<a class="headerlink" href="#attributes_3" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>function_type</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>type attribute of function type</td>
</tr>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>arg_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
<tr>
<td align="center"><code>res_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
</tbody>
</table>
<h3 id="channel-ops">Channel ops<a class="headerlink" href="#channel-ops" title="Permanent link">link</a></h3>
<h4 id="streamchannelcount-streamchannelcountop"><code>stream.channel.count</code> (Stream::ChannelCountOp)<a class="headerlink" href="#streamchannelcount-streamchannelcountop" title="Permanent link">link</a></h4>
<p><em>Returns the total number of participants in the group</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.channel.count` $channel `:` type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns the total participant count in the collective communicator group.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_3">Operands:<a class="headerlink" href="#operands_3" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>a collective communication channel</td>
</tr>
</tbody>
</table>
<h5 id="results_3">Results:<a class="headerlink" href="#results_3" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamchannelcreate-streamchannelcreateop"><code>stream.channel.create</code> (Stream::ChannelCreateOp)<a class="headerlink" href="#streamchannelcreate-streamchannelcreateop" title="Permanent link">link</a></h4>
<p><em>Creates a new channel for collective communication</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.channel.create` (`on` `(` $affinity^ `)`)?
              (`id` `(` $id^ `)`)?
              (`group` `(` $group^ `)`)?
              (`rank` `(` $rank^ `)`)?
              (`count` `(` $count^ `)`)?
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a new channel with the given rank associated with the specified
affinity. Collective operations using this channel must only be submitted on
compatible affinities.</p>
<p>The group and ID are optional and may be null. The rank and count can be
omitted to indicate a default inherited from the environment or device
configuration at runtime.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, Stream_AffinityOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_4">Attributes:<a class="headerlink" href="#attributes_4" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>group</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_4">Operands:<a class="headerlink" href="#operands_4" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>id</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>rank</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>count</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_4">Results:<a class="headerlink" href="#results_4" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>a collective communication channel</td>
</tr>
</tbody>
</table>
<h4 id="streamchannelrank-streamchannelrankop"><code>stream.channel.rank</code> (Stream::ChannelRankOp)<a class="headerlink" href="#streamchannelrank-streamchannelrankop" title="Permanent link">link</a></h4>
<p><em>Returns the rank of the local participant in the group</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.channel.rank` $channel `:` type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns the rank the channel represents as a participant in a collective
group in <code>[0, count)</code>.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_5">Operands:<a class="headerlink" href="#operands_5" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>a collective communication channel</td>
</tr>
</tbody>
</table>
<h5 id="results_5">Results:<a class="headerlink" href="#results_5" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamchannelsplit-streamchannelsplitop"><code>stream.channel.split</code> (Stream::ChannelSplitOp)<a class="headerlink" href="#streamchannelsplit-streamchannelsplitop" title="Permanent link">link</a></h4>
<p><em>Splits a collective communication channel</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.channel.split` $channel `,` $color `,` $key
              `:` type($channel) `-&gt;` type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Partitions the group associated with the given channel into disjoint
subgroups for each unique value of color. Each new subgroup contains all
participants of the same color and within each subgroup the key argument
is used to define the rank order. When multiple participants in a group
use the same key the tie will be broken using their rank in the parent
group. A color of -1 indicates that the rank does not participate in any
subgroup and will return a null channel.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_6">Operands:<a class="headerlink" href="#operands_6" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>a collective communication channel</td>
</tr>
<tr>
<td align="center"><code>color</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>key</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_6">Results:<a class="headerlink" href="#results_6" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>a collective communication channel</td>
</tr>
</tbody>
</table>
<h3 id="executable-ops">Executable ops<a class="headerlink" href="#executable-ops" title="Permanent link">link</a></h3>
<h4 id="streambindingsubspan-streambindingsubspanop"><code>stream.binding.subspan</code> (Stream::BindingSubspanOp)<a class="headerlink" href="#streambindingsubspan-streambindingsubspanop" title="Permanent link">link</a></h4>
<p><em>Returns an alias to a subspan of interface binding data</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.binding.subspan` $binding `` `[` $byte_offset `]`
              attr-dict `:` type($binding) `-&gt;` type($result) (`{` $dynamic_dims^ `}`)?
</code></pre></div>
<p>Returns a subview to a tensor or memref-like type from a binding. The same
binding may have multiple subviews at different byte offsets.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Util_ShapeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_7">Operands:<a class="headerlink" href="#operands_7" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>binding</code></td>
<td>a managed resource binding into an executable scope</td>
</tr>
<tr>
<td align="center"><code>byte_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>dynamic_dims</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_7">Results:<a class="headerlink" href="#results_7" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="streamexecutableend-streamexecutableendop"><code>stream.executable.end</code> (Stream::ExecutableEndOp)<a class="headerlink" href="#streamexecutableend-streamexecutableendop" title="Permanent link">link</a></h4>
<p><em>Terminator pseudo-op for the executable op</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.executable.end` attr-dict
</code></pre></div>
<p>Traits: HasParent<IREE::Stream::ExecutableOp>, Terminator</p>
<h4 id="streamexecutableexport-streamexecutableexportop"><code>stream.executable.export</code> (Stream::ExecutableExportOp)<a class="headerlink" href="#streamexecutableexport-streamexecutableexportop" title="Permanent link">link</a></h4>
<p><em>Defines an executable entry point for dispatch operations</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.executable.export` custom&lt;SymbolVisibility&gt;($sym_visibility)
              custom&lt;SymbolAlias&gt;($sym_name, $function_ref)
              custom&lt;WorkgroupCountRegion&gt;($workgroup_count)
              attr-dict-with-keyword
</code></pre></div>
<p>Specifies an exported function with an externally-visible alias. Multiple
exports can reference the same internal function.</p>
<p>Each entry point can have a unique workgroup count calculation region.
This region takes the workload parameters passed to each flow.dispatch and
produces an XYZ workgroup count for the 3D grid dispatch.</p>
<p>Traits: HasParent<IREE::Stream::ExecutableOp>, IsolatedFromAbove</p>
<p>Interfaces: Symbol</p>
<h5 id="attributes_5">Attributes:<a class="headerlink" href="#attributes_5" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>function_ref</code></td>
<td align="center">::mlir::FlatSymbolRefAttr</td>
<td>flat symbol reference attribute</td>
</tr>
</tbody>
</table>
<h4 id="streamexecutable-streamexecutableop"><code>stream.executable</code> (Stream::ExecutableOp)<a class="headerlink" href="#streamexecutable-streamexecutableop" title="Permanent link">link</a></h4>
<p><em>Generic executable module</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.executable` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
              regions
</code></pre></div>
<p>An executable module containing one or more public functions. The contents
of the functions are safe to dispatch and can be lowered further to
target-specific backend IR representations.</p>
<p>Traits: IsolatedFromAbove, SingleBlockImplicitTerminator<IREE::Stream::ExecutableEndOp>, SymbolTable</p>
<p>Interfaces: Symbol</p>
<h5 id="attributes_6">Attributes:<a class="headerlink" href="#attributes_6" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h3 id="explicit-command-ops">Explicit command ops<a class="headerlink" href="#explicit-command-ops" title="Permanent link">link</a></h3>
<h4 id="streamcmdcall-streamcmdcallop"><code>stream.cmd.call</code> (Stream::CmdCallOp)<a class="headerlink" href="#streamcmdcall-streamcmdcallop" title="Permanent link">link</a></h4>
<p><em>Calls a streamable external host function</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.call` $callee ``
              custom&lt;CmdCallOperands&gt;($resource_operands,
              $resource_operand_offsets,
              $resource_operand_lengths,
              $resource_operand_accesses) attr-dict `:`
              custom&lt;ShapedFunctionType&gt;(ref($resource_operands),
              type($resource_operands),
              $resource_operand_sizes,
              type($results),
              $result_sizes,
              $tied_operands)
</code></pre></div>
<p>Calls a function operating on resource values with stream semantics.
Asynchronous calls must have no side-effects.</p>
<p>Traits: AttrSizedOperandSegments, Stream_CmdPhaseOp</p>
<p>Interfaces: CallOpInterface, Stream_StreamableOp, Stream_SubviewEffectOp, SymbolUserOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_7">Attributes:<a class="headerlink" href="#attributes_7" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>callee</code></td>
<td align="center">::mlir::FlatSymbolRefAttr</td>
<td>flat symbol reference attribute</td>
</tr>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>resource_operand_accesses</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>access array attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_8">Operands:<a class="headerlink" href="#operands_8" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>index or integer or floating-point or complex-type or resource or external resource or transient resource or variable resource or constant resource or any type</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_lengths</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_8">Results:<a class="headerlink" href="#results_8" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>index or integer or floating-point or complex-type</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdcollective-streamcmdcollectiveop"><code>stream.cmd.collective</code> (Stream::CmdCollectiveOp)<a class="headerlink" href="#streamcmdcollective-streamcmdcollectiveop" title="Permanent link">link</a></h4>
<p><em>Dispatches a collective operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.collective` `` $op `` `[` $element_count `]`
              `channel` `(` $channel `)`
              (`param` `(` $param^ `:` type($param) `)`)? `{`
              custom&lt;DispatchResources&gt;($resources, type($resources), $resource_sizes,
              $resource_offsets, $resource_lengths,
              $resource_accesses)
              `\n` `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Dispatches a collective operation specified against the device. If grouped
with other collectives in a <code>stream.cmd.concurrent</code> region the collective
operations may fuse and execute more efficiently.</p>
<p>Traits: AttrSizedOperandSegments, Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="attributes_8">Attributes:<a class="headerlink" href="#attributes_8" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>op</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::CollectiveAttr</td>
<td>collective operation and specification</td>
</tr>
<tr>
<td align="center"><code>resource_accesses</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>access array attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_9">Operands:<a class="headerlink" href="#operands_9" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>channel</code></td>
<td>a collective communication channel</td>
</tr>
<tr>
<td align="center"><code>element_count</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>param</code></td>
<td>32-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>resources</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>resource_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_lengths</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdconcurrent-streamcmdconcurrentop"><code>stream.cmd.concurrent</code> (Stream::CmdConcurrentOp)<a class="headerlink" href="#streamcmdconcurrent-streamcmdconcurrentop" title="Permanent link">link</a></h4>
<p><em>Executes all ops concurrently</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.concurrent` $body
              attr-dict-with-keyword
</code></pre></div>
<p>Represents a wave of work scheduled concurrently (each op executing at the
same time).</p>
<p>Waves can be nested to create a DAG. For example, take the following graph:
<div class="highlight"><pre><span></span><code>                  |
        v---------+---------v
+-------|-------+   +-------|-------+
|    v--+--v    |   |    v--+--v    |
| +----+ +----+ |   | +----+ +----+ |
| | @a | | @b | |   | | @c | | @d | |
| +----+ +----+ |   | +----+ +----+ |
|    +--v--+    |   |    +--v--+    |
+-------|-------+   +-------|-------+
        +---------v---------+
                  |
</code></pre></div></p>
<p>Represented with nested waves:
<div class="highlight"><pre><span></span><code>  stream.cmd.concurrent {
    stream.cmd.concurrent {
      stream.cmd.dispatch @a
      stream.cmd.dispatch @b
    }
    stream.cmd.concurrent {
      stream.cmd.dispatch @c
      stream.cmd.dispatch @d
    }
  }
</code></pre></div></p>
<p>Traits: HasParent<IREE::Stream::CmdExecuteOp, IREE::Stream::CmdSerialOp, IREE::Stream::CmdConcurrentOp>, RecursiveMemoryEffects, SingleBlockImplicitTerminator<IREE::Stream::YieldOp>, Stream_CmdPhaseOp</p>
<p>Interfaces: RegionBranchOpInterface, Stream_StreamableOp</p>
<h4 id="streamcmdcopy-streamcmdcopyop"><code>stream.cmd.copy</code> (Stream::CmdCopyOp)<a class="headerlink" href="#streamcmdcopy-streamcmdcopyop" title="Permanent link">link</a></h4>
<p><em>Copies a subview of a stream resource to another</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.copy` $source `[` $source_offset `]` `,`
              $target `[` $target_offset `]` `,`
              $length `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              type($target) `` `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Copies a subview of a resource into a subview of another.
As with memcpy this does not support overlapping updates into the same
resource.</p>
<p>Traits: Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="operands_10">Operands:<a class="headerlink" href="#operands_10" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmddiscard-streamcmddiscardop"><code>stream.cmd.discard</code> (Stream::CmdDiscardOp)<a class="headerlink" href="#streamcmddiscard-streamcmddiscardop" title="Permanent link">link</a></h4>
<p><em>Discards a subview of a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.discard` $target `[` $target_offset `for` $target_length `]` `:`
              type($target) `` `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Discards a subview of a resource, indicating that after this command the
specified contents are no longer needed. This can be used to trim memory
or invalidate caches.</p>
<p>Traits: Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="operands_11">Operands:<a class="headerlink" href="#operands_11" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmddispatch-streamcmddispatchop"><code>stream.cmd.dispatch</code> (Stream::CmdDispatchOp)<a class="headerlink" href="#streamcmddispatch-streamcmddispatchop" title="Permanent link">link</a></h4>
<p><em>Dispatches a parallelized grid of work</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.dispatch` custom&lt;DispatchEntryPoints&gt;($entry_points)
              (`[` $workload^ `]`)? ``
              (`(` $uniform_operands^ `:` type($uniform_operands) `)`)? `{`
              custom&lt;DispatchResources&gt;($resources, type($resources), $resource_sizes,
              $resource_offsets, $resource_lengths,
              $resource_accesses)
              `\n` `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Calls the specified entry point function once for each element in the
specified workgroup count. Each workgroup has access to the same operands
and results and is able to load/store at will.</p>
<p>Traits: AttrSizedOperandSegments, Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, SymbolUserOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_9">Attributes:<a class="headerlink" href="#attributes_9" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_points</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>symbol ref array attribute</td>
</tr>
<tr>
<td align="center"><code>resource_accesses</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>access array attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_12">Operands:<a class="headerlink" href="#operands_12" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>workload</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>uniform_operands</code></td>
<td>index or integer or floating-point or complex-type</td>
</tr>
<tr>
<td align="center"><code>resources</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>resource_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_lengths</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdexecute-streamcmdexecuteop"><code>stream.cmd.execute</code> (Stream::CmdExecuteOp)<a class="headerlink" href="#streamcmdexecute-streamcmdexecuteop" title="Permanent link">link</a></h4>
<p><em>Executes a dependency-aware sequence of streamable ops</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.execute` (`on` `(` $affinity^ `)`)?
              (`await` `(` $await_timepoint^ `)` `=` `` `&gt;`)?
              `with` ``
              custom&lt;ExplicitResourceRegion&gt;($resource_operands,
              type($resource_operands), $resource_operand_sizes,
              $body)
              `=` `` `&gt;` type($result_timepoint)
              attr-dict-with-keyword
</code></pre></div>
<p>Evaluates the operations within the region by dependency order while obeying
ties when present. Nested ops execute serially in block order and nested
<code>stream.cmd.concurrent</code> ops can be used to run multiple ops concurrently
within the stream. All resource inputs must be captured explicitly. All
results are only ready once all nested ops complete execution and the
returned timepoint is reached. Zero or more timepoints may be provided to
block execution until they are all reached; zero timepoints indicates that
execution may begin immediately.</p>
<p>Traits: AttrSizedOperandSegments, RecursiveMemoryEffects, SingleBlockImplicitTerminator<IREE::Stream::YieldOp>, Stream_CmdPhaseOp</p>
<p>Interfaces: ClosureOpInterface, InferTypeOpInterface, RegionBranchOpInterface, Stream_AffinityOp, Stream_TimelineOp, Util_SizeAwareOp</p>
<h5 id="attributes_10">Attributes:<a class="headerlink" href="#attributes_10" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_13">Operands:<a class="headerlink" href="#operands_13" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_9">Results:<a class="headerlink" href="#results_9" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdfill-streamcmdfillop"><code>stream.cmd.fill</code> (Stream::CmdFillOp)<a class="headerlink" href="#streamcmdfill-streamcmdfillop" title="Permanent link">link</a></h4>
<p><em>Fills a subview of a stream resource with a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.fill` $value `,`
              $target `[` $target_offset `for` $target_length `]` `:`
              type($value) `-&gt;`
              type($target) `` `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Splats a value into a subview of the given stream resource and returns the
resource with the update applied.</p>
<p>Traits: Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="operands_14">Operands:<a class="headerlink" href="#operands_14" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>8-bit signless integer or 16-bit signless integer or 32-bit signless integer</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdflush-streamcmdflushop"><code>stream.cmd.flush</code> (Stream::CmdFlushOp)<a class="headerlink" href="#streamcmdflush-streamcmdflushop" title="Permanent link">link</a></h4>
<p><em>Flushes a subview of a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.flush` (`to` `(` $source_affinity^ `)`)?
              $target `[` $target_offset `for` $target_length `]` `:`
              type($target) `` `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Transfers a resource to an external target. The resource memory is made
available to the target and can be made visible there using
<code>stream.cmd.invalidate</code>.</p>
<p>Traits: Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="attributes_11">Attributes:<a class="headerlink" href="#attributes_11" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_15">Operands:<a class="headerlink" href="#operands_15" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdfunc-streamcmdfuncop"><code>stream.cmd.func</code> (Stream::CmdFuncOp)<a class="headerlink" href="#streamcmdfunc-streamcmdfuncop" title="Permanent link">link</a></h4>
<p><em>Streamable function declaration</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.func` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name ``
              custom&lt;DispatchFunctionSignature&gt;($function_type,
              $arg_attrs,
              $res_attrs)
              attr-dict-with-keyword
              ($body^)?
</code></pre></div>
<p>Declares a function that can be called as an asynchronous streaming
operation via <code>stream.cmd.call</code>. Today only external functions are
allowed.</p>
<p>Traits: IsolatedFromAbove, Stream_CmdPhaseOp</p>
<p>Interfaces: CallableOpInterface, FunctionOpInterface, Symbol</p>
<h5 id="attributes_12">Attributes:<a class="headerlink" href="#attributes_12" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>sym_name</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>function_type</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>type attribute of function type</td>
</tr>
<tr>
<td align="center"><code>sym_visibility</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
<tr>
<td align="center"><code>arg_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
<tr>
<td align="center"><code>res_attrs</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>Array of dictionary attributes</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdinvalidate-streamcmdinvalidateop"><code>stream.cmd.invalidate</code> (Stream::CmdInvalidateOp)<a class="headerlink" href="#streamcmdinvalidate-streamcmdinvalidateop" title="Permanent link">link</a></h4>
<p><em>Invalidates a subview of a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.invalidate` (`from` `(` $source_affinity^ `)`)?
              $target `[` $target_offset `for` $target_length `]` `:`
              type($target) `` `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Transfers a resource from an external source into the current target. The
resource memory is assumed to have been made available at the source via
<code>stream.cmd.flush</code>.</p>
<p>Traits: Stream_CmdPhaseOp</p>
<p>Interfaces: Stream_StreamableOp, Stream_SubviewEffectOp, Util_SizeAwareOp</p>
<h5 id="attributes_13">Attributes:<a class="headerlink" href="#attributes_13" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_16">Operands:<a class="headerlink" href="#operands_16" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamcmdserial-streamcmdserialop"><code>stream.cmd.serial</code> (Stream::CmdSerialOp)<a class="headerlink" href="#streamcmdserial-streamcmdserialop" title="Permanent link">link</a></h4>
<p><em>Executes all ops serially (in-order)</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.cmd.serial` $body
              attr-dict-with-keyword
</code></pre></div>
<p>Represents a sequence of work scheduled serially (each op executing one
after the other).</p>
<p>Regions can be nested to create a DAG. For example, take the following graph:
<div class="highlight"><pre><span></span><code>                  |
        v---------+-----v
+-------|-------+   +---|----+
|    v--+--v    |   |   v    |
| +----+ +----+ |   | +----+ |
| | @a | | @b | |   | | @c | |
| +----+ +----+ |   | +----+ |
|    |     |    |   |   |    |
|    |     |    |   | +-v--+ |
|    |     |    |   | | @d | |
|    |     |    |   | +----+ |
|    +--v--+    |   |   |    |
+-------|-------+   +---|----+
        +---------v-----+
                  |
</code></pre></div></p>
<p>Represented with nested regions:
<div class="highlight"><pre><span></span><code>  stream.cmd.concurrent {
    stream.cmd.concurrent {
      stream.cmd.dispatch @a
      stream.cmd.dispatch @b
    }
    stream.cmd.serial {
      stream.cmd.dispatch @c
      stream.cmd.dispatch @d
    }
  }
</code></pre></div></p>
<p>Traits: HasParent<IREE::Stream::CmdExecuteOp, IREE::Stream::CmdSerialOp, IREE::Stream::CmdConcurrentOp>, RecursiveMemoryEffects, SingleBlockImplicitTerminator<IREE::Stream::YieldOp>, Stream_CmdPhaseOp</p>
<p>Interfaces: RegionBranchOpInterface, Stream_StreamableOp</p>
<h3 id="miscellaneous-ops">Miscellaneous ops<a class="headerlink" href="#miscellaneous-ops" title="Permanent link">link</a></h3>
<h4 id="streamreturn-streamreturnop"><code>stream.return</code> (Stream::ReturnOp)<a class="headerlink" href="#streamreturn-streamreturnop" title="Permanent link">link</a></h4>
<p><em>Returns results from a region</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.return` attr-dict
              $operands `:` type($operands)
</code></pre></div>
<p>The values returned are copied by-value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, HasParent<IREE::Stream::ExecutableExportOp>, ReturnLike, Terminator</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), RegionBranchTerminatorOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_17">Operands:<a class="headerlink" href="#operands_17" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operands</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="streamyield-streamyieldop"><code>stream.yield</code> (Stream::YieldOp)<a class="headerlink" href="#streamyield-streamyieldop" title="Permanent link">link</a></h4>
<p><em>Yields stream values from an execution region</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.yield` attr-dict
              ($resource_operands^ `:`
              custom&lt;SizeAwareTypeList&gt;(type($resource_operands),
              $resource_operand_sizes))?
</code></pre></div>
<p>The values returned represent the asynchronous value at the point in time
the SSA value is defined (or tied).</p>
<p>Traits: AlwaysSpeculatableImplTrait, HasParent<IREE::Stream::AsyncExecuteOp, IREE::Stream::AsyncConcurrentOp, IREE::Stream::CmdExecuteOp, IREE::Stream::CmdSerialOp, IREE::Stream::CmdConcurrentOp>, ReturnLike, SameVariadicOperandSize, Terminator</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), RegionBranchTerminatorOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_18">Operands:<a class="headerlink" href="#operands_18" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h3 id="pseudo-ops">Pseudo Ops<a class="headerlink" href="#pseudo-ops" title="Permanent link">link</a></h3>
<p>Pseudo ops for conversion support.</p>
<h4 id="streamtensorexport-streamtensorexportop"><code>stream.tensor.export</code> (Stream::TensorExportOp)<a class="headerlink" href="#streamtensorexport-streamtensorexportop" title="Permanent link">link</a></h4>
<p><em>Conversion placeholder for stream-&gt;other type conversion</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.export` (`on` `(` $affinity^ `)`)?
              $source `:`
              $source_encoding (`` `{` $source_encoding_dims^ `}`)?
              `in`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Defines a conversion to a higher-level dialect type such as <code>tensor</code> that
is resolved during lowering into the stream dialect. This can be used to
interoperate between levels of the stack that require specifying stream
types and those that prior to lowering do not handle them.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, TiedOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_14">Attributes:<a class="headerlink" href="#attributes_14" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_19">Operands:<a class="headerlink" href="#operands_19" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>external resource</td>
</tr>
<tr>
<td align="center"><code>source_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_10">Results:<a class="headerlink" href="#results_10" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorimport-streamtensorimportop"><code>stream.tensor.import</code> (Stream::TensorImportOp)<a class="headerlink" href="#streamtensorimport-streamtensorimportop" title="Permanent link">link</a></h4>
<p><em>Conversion placeholder for other-&gt;stream type conversion</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.import` (`on` `(` $affinity^ `)`)?
              $source `:`
              type($source)
              `-&gt;`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result) `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Defines a conversion from a higher-level dialect type such as <code>tensor</code> that
is resolved during lowering into the stream dialect. This can be used to
interoperate between levels of the stack that require specifying stream
types and those that prior to lowering do not handle them.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, TiedOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_15">Attributes:<a class="headerlink" href="#attributes_15" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_20">Operands:<a class="headerlink" href="#operands_20" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>any type</td>
</tr>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_11">Results:<a class="headerlink" href="#results_11" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>external resource</td>
</tr>
</tbody>
</table>
<h3 id="resource-ops">Resource ops<a class="headerlink" href="#resource-ops" title="Permanent link">link</a></h3>
<p>Generic resource ops.</p>
<h4 id="streamresourcealloc-streamresourceallocop"><code>stream.resource.alloc</code> (Stream::ResourceAllocOp)<a class="headerlink" href="#streamresourcealloc-streamresourceallocop" title="Permanent link">link</a></h4>
<p><em>Allocates a persistent value with undefined contents</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.alloc` (`on` `(` $affinity^ `)`)?
              (`uninitialized` $uninitialized^)?
              attr-dict `:` custom&lt;SizeAwareTypeList&gt;(type($results), $storage_sizes)
</code></pre></div>
<p>Allocates a persistent value (one that is long-lived and possibly external
to the program) with undefined contents. Consumers of the allocated
result must assume nothing of the contents and use <code>discard</code> access.</p>
<p>Uninitialized allocations will have undefined contents and must only be used
when all bytes are discarded prior to any reads. Runtimes decide what
"undefined contents" means and here it only indicates that execution will be
correct even if the memory starts with non-zero values.</p>
<p>If multiple values are allocated from the same operation it implies that
they have matching lifetimes. When lowering to execution environments the
separate allocations may be fused into one or more slab allocations in order
to reduce overheads. How many allocations can be fused is based on the size
of the individual resources and the target constraints (how large any single
buffer may be, etc). At the stream dialect level treat a multi-result alloc
as a way to indicate similar lifetimes.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: AffinityOpInterface, ConditionallySpeculatable, MemoryEffectOpInterface (MemoryEffectOpInterface), Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="attributes_16">Attributes:<a class="headerlink" href="#attributes_16" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>uninitialized</code></td>
<td align="center">::mlir::UnitAttr</td>
<td>unit attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_21">Operands:<a class="headerlink" href="#operands_21" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>storage_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_12">Results:<a class="headerlink" href="#results_12" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>any stream-compatible type</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcealloca-streamresourceallocaop"><code>stream.resource.alloca</code> (Stream::ResourceAllocaOp)<a class="headerlink" href="#streamresourcealloca-streamresourceallocaop" title="Permanent link">link</a></h4>
<p><em>Allocates a transient value with undefined contents</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.alloca` `uninitialized`
              (`on` `(` $affinity^ `)`)?
              (`await` `(` $await_timepoint^ `)` `=` `` `&gt;`):(`:`)?
              attr-dict
              type($result) `{` $storage_size `}`
              `=` `` `&gt;`
              type($result_timepoint)
</code></pre></div>
<p>Allocates a transient value (one that is short-lived and local to the
current computation) with undefined contents. Consumers of the allocated
result must assume nothing of the contents and use <code>discard</code> access.</p>
<p>The resource returned is not valid for use until the timepoint is reached;
execution using this resource must await on the timepoint.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: AffinityOpInterface, ConditionallySpeculatable, MemoryEffectOpInterface (MemoryEffectOpInterface), Stream_TimelineOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="attributes_17">Attributes:<a class="headerlink" href="#attributes_17" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_22">Operands:<a class="headerlink" href="#operands_22" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>storage_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_13">Results:<a class="headerlink" href="#results_13" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>staging resource or transient resource</td>
</tr>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamresourceconstants-streamresourceconstantsop"><code>stream.resource.constants</code> (Stream::ResourceConstantsOp)<a class="headerlink" href="#streamresourceconstants-streamresourceconstantsop" title="Permanent link">link</a></h4>
<p><em>Asynchronously uploads or maps constant values</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.constants` (`on` `(` $affinity^ `)`)?
              attr-dict `:`
              custom&lt;ConstantValueList&gt;(type($results),
              $result_sizes,
              $values)
              `\n` ` ` ` ` `=` `` `&gt;` type($result_timepoint)
</code></pre></div>
<p>Represents an upload of constant resources that may be packed, suballocated,
and mapped depending on the final lowering target.</p>
<p>In runtime environments where memory is shared between host and device this
turns into a mapping operation that avoids additional memory allocation and
copies. When memory cannot be shared an asynchronous stream will be created
to allocate and copy all of the constant values.</p>
<p>Though this op returns a unique resource for each constant value it's
expected that almost all end up aliasing into the same storage. The exact
packing and number of storage resources that are needed are not known until
lowering to a particular backend, though, so they are separate here for
proper usage tracking.</p>
<p>Both constant and variable resources can be produced; a constant is
immutable while a variable will be treated as a constant-value initializer
for a mutable resource. By modeling these together it's not required that
variable initializers first be allocated, copied to the target, and then
copied into the variable storage if the target is capable of doing a direct
upload or mapping.</p>
<p>Traits: AlwaysSpeculatableImplTrait, SameVariadicResultSize</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_TimelineOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_18">Attributes:<a class="headerlink" href="#attributes_18" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>values</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>constant value array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_23">Operands:<a class="headerlink" href="#operands_23" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_14">Results:<a class="headerlink" href="#results_14" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>constant resource or variable resource</td>
</tr>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcedealloca-streamresourcedeallocaop"><code>stream.resource.dealloca</code> (Stream::ResourceDeallocaOp)<a class="headerlink" href="#streamresourcedealloca-streamresourcedeallocaop" title="Permanent link">link</a></h4>
<p><em>Frees a transient value when available</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.dealloca` (`on` `(` $affinity^ `)`)?
              (`await` `(` $await_timepoint^ `)` `=` `` `&gt;`)?
              $operand `:` type($operand) `{` $operand_size `}`
              `=` `` `&gt;` type($result_timepoint)
              attr-dict
</code></pre></div>
<p>Deallocates a transient value (one that is short-lived and local to the
current computation) previously allocated using <code>stream.resource.alloca</code>.</p>
<p>The resource is considered live and valid until the provided timepoint is
reached and the memory is only made available for future requests after
the result timepoint is reached.</p>
<p>Interfaces: AffinityOpInterface, InferTypeOpInterface, MemoryEffectOpInterface (MemoryEffectOpInterface), Stream_TimelineOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Free on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="attributes_19">Attributes:<a class="headerlink" href="#attributes_19" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_24">Operands:<a class="headerlink" href="#operands_24" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operand</code></td>
<td>staging resource or transient resource</td>
</tr>
<tr>
<td align="center"><code>operand_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_15">Results:<a class="headerlink" href="#results_15" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamresourceload-streamresourceloadop"><code>stream.resource.load</code> (Stream::ResourceLoadOp)<a class="headerlink" href="#streamresourceload-streamresourceloadop" title="Permanent link">link</a></h4>
<p><em>Loads a value from a staging resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.load` $source `[` $source_offset `]` `:`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns the element(s) at the given offset in the staging resource.
The operation will complete synchronously against the resource though it may
introduce a yield point if the staging resource needs to be transferred.</p>
<p>Interfaces: Util_SizeAwareOp</p>
<h5 id="operands_25">Operands:<a class="headerlink" href="#operands_25" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_16">Results:<a class="headerlink" href="#results_16" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcemap-streamresourcemapop"><code>stream.resource.map</code> (Stream::ResourceMapOp)<a class="headerlink" href="#streamresourcemap-streamresourcemapop" title="Permanent link">link</a></h4>
<p><em>Maps read-only memory into a staging resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.map` (`on` `(` $affinity^ `)`)?
              $source `[` $source_offset `]` `:`
              type($source)
              `-&gt;`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Synchronously maps a host heap buffer into a stream-accessible staging
resource. Will never fail but may induce a copy if required and as such the
mapped resource is not coherent with the original source buffer: changing
the source buffer after mapping has undefined behavior.</p>
<p>Interfaces: MemoryEffectOpInterface (MemoryEffectOpInterface), Stream_AffinityOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="attributes_20">Attributes:<a class="headerlink" href="#attributes_20" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_26">Operands:<a class="headerlink" href="#operands_26" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_17">Results:<a class="headerlink" href="#results_17" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcepack-streamresourcepackop"><code>stream.resource.pack</code> (Stream::ResourcePackOp)<a class="headerlink" href="#streamresourcepack-streamresourcepackop" title="Permanent link">link</a></h4>
<p><em>Packs variable-sized slices into a single slab</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.pack` (`on` `(` $affinity^ `)`)?
              (`offset` `(` $offset^ `)`)?
              `slices` `(` `{`
              custom&lt;PackSliceRanges&gt;($lifetime_intervals,
              $dynamic_slice_sizes,
              type($packed_offsets))
              `}` `)`
              `:` type($total_length)
              attr-dict-with-keyword
</code></pre></div>
<p>Performs a greedy packing of one or more sized slices with specified
lifetimes and returns their relative offsets in an aliased linear space.</p>
<p>Slices are <code>[start, end] = %slice_byte_size</code>, where the start and end values
define an inclusive lifetime range and the size is the total number of bytes
required to be live for that range.</p>
<div class="highlight"><pre><span></span><code>// Computes the total length required for the packed values and the offsets
// of the 3 slices requested relative to the base of the packed memory:
%total_length, %offset_0, %offset_1, %offset_2 =
    stream.resource.pack
        // Each slice gets one result offset:
        slices({
          // 3 slices where A and B overlap and will get unique offsets
          // while B and C do not overlap and are allowed to alias.
          [0, 10] = %size_0,  // A =&gt; %offset_0
          [3,  8] = %size_1,  // B =&gt; %offset_1
          [9, 10] = %size_2,  // C =&gt; %offset_2
          ...
        }) : index
</code></pre></div>
<p>The lifetime start and end points (inclusive) are only used for relative
comparisons and may originate with any meaning (op order in block, epoch,
phase of the moon, etc). The packing algorithm uses the intervals to
determine slice liveness and when aliasing is safe.</p>
<p>The size of each slice may either be a constant or runtime-computed dynamic
value. Constant slices can achieve more dense packing than the dynamic
values and CSE/canonicalization should be applied to ensure that as many of
the dynamic values are equivalent if possible.</p>
<p>The total length required to pack all slices is returned and can be used to
acquire storage. The individual slice offsets are 0-based and as such if are
directly used as buffer offsets may need additional offsetting. This can
either be applied via the optional <code>offset</code> operand or slicing of the
underlying allocation buffer.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, Stream_AffinityOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_21">Attributes:<a class="headerlink" href="#attributes_21" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>lifetime_intervals</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>index array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_27">Operands:<a class="headerlink" href="#operands_27" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>dynamic_slice_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_18">Results:<a class="headerlink" href="#results_18" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>total_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>packed_offsets</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcesize-streamresourcesizeop"><code>stream.resource.size</code> (Stream::ResourceSizeOp)<a class="headerlink" href="#streamresourcesize-streamresourcesizeop" title="Permanent link">link</a></h4>
<p><em>Returns the size of the resource storage in bytes</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.size` (`on` `(` $affinity^ `)`)?
              $operand
              attr-dict `:` type($operand)
</code></pre></div>
<p>Returns a possibly runtime-dynamic byte size of the resource backing
storage. This may differ from the logical storage size of a value based on
the alignment requirements of the target as well as encoding of higher level
values such as sparse tensor formats.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_22">Attributes:<a class="headerlink" href="#attributes_22" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_28">Operands:<a class="headerlink" href="#operands_28" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operand</code></td>
<td>any stream-compatible type</td>
</tr>
</tbody>
</table>
<h5 id="results_19">Results:<a class="headerlink" href="#results_19" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcestore-streamresourcestoreop"><code>stream.resource.store</code> (Stream::ResourceStoreOp)<a class="headerlink" href="#streamresourcestore-streamresourcestoreop" title="Permanent link">link</a></h4>
<p><em>Stores a value into a staging resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.store` $value `,`
              $target `[` $target_offset `]` `:`
              type($value)
              `-&gt;`
              type($target) `{` $target_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>The operation will complete synchronously against the resource though it may
introduce a yield point if the staging resource needs to be acquired.</p>
<p>Interfaces: MemoryEffectOpInterface (MemoryEffectOpInterface), Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Write on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="operands_29">Operands:<a class="headerlink" href="#operands_29" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcesubview-streamresourcesubviewop"><code>stream.resource.subview</code> (Stream::ResourceSubviewOp)<a class="headerlink" href="#streamresourcesubview-streamresourcesubviewop" title="Permanent link">link</a></h4>
<p><em>Slices out a cloned subview of a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.subview` $source `[` $source_offset `]` `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Aliases a byte subrange of a resource.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), StreamableOpInterface, TiedOpInterface, Util_SizeAwareOp, Util_SubrangeOp, ViewLikeOpInterface</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_30">Operands:<a class="headerlink" href="#operands_30" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>any stream-compatible type</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_20">Results:<a class="headerlink" href="#results_20" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>any stream-compatible type</td>
</tr>
</tbody>
</table>
<h4 id="streamresourcetry_map-streamresourcetrymapop"><code>stream.resource.try_map</code> (Stream::ResourceTryMapOp)<a class="headerlink" href="#streamresourcetry_map-streamresourcetrymapop" title="Permanent link">link</a></h4>
<p><em>Maps read-only memory into a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.resource.try_map` (`on` `(` $affinity^ `)`)?
              $source `[` $source_offset `]` `:`
              type($source)
              `-&gt;`
              type($did_map) `,` type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Synchronously maps a host heap buffer into a stream-accessible resource
with constant lifetime. If the given source cannot be mapped into a constant
a failure is returned and the resulting resource value is null. As with
<code>stream.resource.map</code> the resulting resource is not coherent with the source
and changes will not be reflected.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, MemoryEffectOpInterface (MemoryEffectOpInterface), NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}, MemoryEffects::Effect{}</p>
<h5 id="attributes_23">Attributes:<a class="headerlink" href="#attributes_23" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_31">Operands:<a class="headerlink" href="#operands_31" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>a reference counted byte buffer</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_21">Results:<a class="headerlink" href="#results_21" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>did_map</code></td>
<td>1-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>result</code></td>
<td>constant resource</td>
</tr>
</tbody>
</table>
<h3 id="resource-transfer-ops">Resource transfer ops<a class="headerlink" href="#resource-transfer-ops" title="Permanent link">link</a></h3>
<h4 id="streamasyncalloca-streamasyncallocaop"><code>stream.async.alloca</code> (Stream::AsyncAllocaOp)<a class="headerlink" href="#streamasyncalloca-streamasyncallocaop" title="Permanent link">link</a></h4>
<p><em>Allocates a transient value with undefined contents</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.alloca` (`on` `(` $affinity^ `)`)?
              attr-dict `:` type($result) `{` $storage_size `}`
</code></pre></div>
<p>Allocates a transient value (one that is short-lived and local to the
current computation) with undefined contents. Consumers of the allocated
result must assume nothing of the contents and use <code>discard</code> access.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_AsyncPhaseOp</p>
<p>Interfaces: AffinityOpInterface, ConditionallySpeculatable, MemoryEffectOpInterface (MemoryEffectOpInterface), StreamableOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}</p>
<h5 id="attributes_24">Attributes:<a class="headerlink" href="#attributes_24" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_32">Operands:<a class="headerlink" href="#operands_32" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>storage_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_22">Results:<a class="headerlink" href="#results_22" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncclone-streamasynccloneop"><code>stream.async.clone</code> (Stream::AsyncCloneOp)<a class="headerlink" href="#streamasyncclone-streamasynccloneop" title="Permanent link">link</a></h4>
<p><em>Clones the contents of a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.clone` (`on` `(` $affinity^ `)`)?
              $source `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Clones the contents of a value at a snapshot in time. Future changes to the
cloned value will not effect the result. Acts as a copy-on-write operation.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, Stream_AffinityOp, StreamableOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_25">Attributes:<a class="headerlink" href="#attributes_25" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_33">Operands:<a class="headerlink" href="#operands_33" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_23">Results:<a class="headerlink" href="#results_23" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasynccollective-streamasynccollectiveop"><code>stream.async.collective</code> (Stream::AsyncCollectiveOp)<a class="headerlink" href="#streamasynccollective-streamasynccollectiveop" title="Permanent link">link</a></h4>
<p><em>Performs a collective operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.collective` `` $op `` `[` $element_count `]`
              (`on` `(` $affinity^ `)`)?
              `channel` `(` $channel `)`
              custom&lt;CollectiveParam&gt;(ref($op), $param) ``
              $source `[` $source_offset `to` $source_end `for` $source_length `]` `,`
              $target `[` $target_offset `to` $target_end `for` $target_length `]` `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>TODO: document different usage. For now this should be considered a
prototype and that modeling of collective operations may change in the
future to better ensure in-place operations (where send/recv is a subset of
recv/send). We may have dedicated operations for the send and recv verbs as
they have sequencing implications - or we could add optional sequencing to
this base op.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_26">Attributes:<a class="headerlink" href="#attributes_26" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>op</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::CollectiveAttr</td>
<td>collective operation and specification</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_34">Operands:<a class="headerlink" href="#operands_34" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>element_count</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>channel</code></td>
<td>a collective communication channel</td>
</tr>
<tr>
<td align="center"><code>param</code></td>
<td>32-bit signless integer</td>
</tr>
</tbody>
</table>
<h5 id="results_24">Results:<a class="headerlink" href="#results_24" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncconstant-streamasyncconstantop"><code>stream.async.constant</code> (Stream::AsyncConstantOp)<a class="headerlink" href="#streamasyncconstant-streamasyncconstantop" title="Permanent link">link</a></h4>
<p><em>Defines a constant resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.constant` (`on` `(` $affinity^ `)`)?
              `:`
              type($result) `` `{` $result_size `}`
              `=`
              $value
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a new resource with the given constant value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, Stream_AffinityOp, StreamableOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_27">Attributes:<a class="headerlink" href="#attributes_27" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>value</code></td>
<td align="center">::mlir::ElementsAttr</td>
<td>constant vector/tensor attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_35">Operands:<a class="headerlink" href="#operands_35" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_25">Results:<a class="headerlink" href="#results_25" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasynccopy-streamasynccopyop"><code>stream.async.copy</code> (Stream::AsyncCopyOp)<a class="headerlink" href="#streamasynccopy-streamasynccopyop" title="Permanent link">link</a></h4>
<p><em>Copies a subview of a stream resource to another</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.copy` (`on` `(` $affinity^ `)`)?
              $source `[` $source_offset `to` $source_end `]` `,`
              $target `[` $target_offset `to` $target_end `]` `,`
              $length `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Copies a subview of a resource into a subview of another.
As with memcpy this does not support overlapping updates into the same
resource. Unlike <code>stream.async.update</code> copy sources cannot be allocated
in-place.</p>
<p>Equivalent to a stream.async.slice + stream.async.update.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_28">Attributes:<a class="headerlink" href="#attributes_28" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_36">Operands:<a class="headerlink" href="#operands_36" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>length</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_26">Results:<a class="headerlink" href="#results_26" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncdispatch-streamasyncdispatchop"><code>stream.async.dispatch</code> (Stream::AsyncDispatchOp)<a class="headerlink" href="#streamasyncdispatch-streamasyncdispatchop" title="Permanent link">link</a></h4>
<p><em>Dispatches a parallelized grid of work</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.dispatch` (`on` `(` $affinity^ `)`)?
              $entry_point
              (`[` $workload^ `]`)? ``
              custom&lt;DispatchOperands&gt;($resource_operands,
              $resource_operand_offsets,
              $resource_operand_ends,
              $resource_operand_lengths) attr-dict `:`
              custom&lt;ShapedFunctionType&gt;(ref($resource_operands),
              type($resource_operands), $resource_operand_sizes,
              type($results), $result_sizes,
              $tied_operands)
</code></pre></div>
<p>Calls the specified entry point function once for each element in the
specified workgroup count. Each workgroup has access to the same operands
and results and is able to load/store at will.</p>
<p>Traits: AttrSizedOperandSegments, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, Stream_AffinityOp, Stream_StreamableOp, SymbolUserOpInterface, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_29">Attributes:<a class="headerlink" href="#attributes_29" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>entry_point</code></td>
<td align="center">::mlir::SymbolRefAttr</td>
<td>symbol reference attribute</td>
</tr>
<tr>
<td align="center"><code>tied_operands</code></td>
<td align="center">::mlir::ArrayAttr</td>
<td>64-bit integer array attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_37">Operands:<a class="headerlink" href="#operands_37" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>workload</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or index or integer or floating-point or complex-type</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_offsets</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_ends</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>resource_operand_lengths</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_sizes</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_27">Results:<a class="headerlink" href="#results_27" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncfill-streamasyncfillop"><code>stream.async.fill</code> (Stream::AsyncFillOp)<a class="headerlink" href="#streamasyncfill-streamasyncfillop" title="Permanent link">link</a></h4>
<p><em>Fills a subview of a stream resource with a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.fill` (`on` `(` $affinity^ `)`)?
              $value `,`
              $target `[` $target_offset `to` $target_end `for` $target_length `]` `:`
              type($value) `-&gt;`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Splats a value into a subview of the given stream resource and returns the
resource with the update applied.</p>
<p>Equivalent to a stream.async.splat + stream.async.update.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_30">Attributes:<a class="headerlink" href="#attributes_30" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_38">Operands:<a class="headerlink" href="#operands_38" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_length</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>8-bit signless integer or 16-bit signless integer or 32-bit signless integer or 64-bit signless integer</td>
</tr>
</tbody>
</table>
<h5 id="results_28">Results:<a class="headerlink" href="#results_28" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncload-streamasyncloadop"><code>stream.async.load</code> (Stream::AsyncLoadOp)<a class="headerlink" href="#streamasyncload-streamasyncloadop" title="Permanent link">link</a></h4>
<p><em>Loads a value from a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.load` $source `[` $source_offset `]` `:`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns the element at the given location from within the resource.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_AsyncPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_39">Operands:<a class="headerlink" href="#operands_39" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_29">Results:<a class="headerlink" href="#results_29" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncslice-streamasyncsliceop"><code>stream.async.slice</code> (Stream::AsyncSliceOp)<a class="headerlink" href="#streamasyncslice-streamasyncsliceop" title="Permanent link">link</a></h4>
<p><em>Slices out a cloned subview of a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.slice` (`on` `(` $affinity^ `)`)?
              $source `[` $source_offset `to` $source_end `]` `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Slices a subrange of a stream resource based on a byte range. Acts as a
copy-on-write operation.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_StreamableOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_31">Attributes:<a class="headerlink" href="#attributes_31" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_40">Operands:<a class="headerlink" href="#operands_40" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_30">Results:<a class="headerlink" href="#results_30" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncsplat-streamasyncsplatop"><code>stream.async.splat</code> (Stream::AsyncSplatOp)<a class="headerlink" href="#streamasyncsplat-streamasyncsplatop" title="Permanent link">link</a></h4>
<p><em>Splats a value into a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.splat` (`on` `(` $affinity^ `)`)?
              $value `:` type($value) `-&gt;` type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a new resource with the given primitive value splatted out to fill
the entire contents.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, Stream_AffinityOp, StreamableOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_32">Attributes:<a class="headerlink" href="#attributes_32" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_41">Operands:<a class="headerlink" href="#operands_41" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>value</code></td>
<td>8-bit signless integer or 16-bit signless integer or 32-bit signless integer or 64-bit signless integer</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_31">Results:<a class="headerlink" href="#results_31" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncstore-streamasyncstoreop"><code>stream.async.store</code> (Stream::AsyncStoreOp)<a class="headerlink" href="#streamasyncstore-streamasyncstoreop" title="Permanent link">link</a></h4>
<p><em>Stores a value into a resource</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.store` $value `,`
              $target `[` $target_offset `]` `:`
              type($value)
              `-&gt;`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a resource with the element at the given offset set to the given
value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_AsyncPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_42">Operands:<a class="headerlink" href="#operands_42" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h5 id="results_32">Results:<a class="headerlink" href="#results_32" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasynctransfer-streamasynctransferop"><code>stream.async.transfer</code> (Stream::AsyncTransferOp)<a class="headerlink" href="#streamasynctransfer-streamasynctransferop" title="Permanent link">link</a></h4>
<p><em>Transfers a resource from one location/state to another</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.transfer` (`from` `(` $source_affinity^ `)`)?
              $source `:`
              type($source) `` `{` $source_size `}` `-&gt;`
              (`to` `(` $result_affinity^ `)`)?
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Transfers a resource between different states (such as a <code>staging</code> lifetime
to a <code>local</code> lifetime) or different affinities. This is roughly equivalent
to a cast but may have special semantics when later lowered to one or more
devices with discrete memory spaces or pools.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, Stream_AffinityOp, Stream_StreamableOp, Util_SizeAwareOp</p>
<h5 id="attributes_33">Attributes:<a class="headerlink" href="#attributes_33" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
<tr>
<td align="center"><code>result_affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_43">Operands:<a class="headerlink" href="#operands_43" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_33">Results:<a class="headerlink" href="#results_33" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamasyncupdate-streamasyncupdateop"><code>stream.async.update</code> (Stream::AsyncUpdateOp)<a class="headerlink" href="#streamasyncupdate-streamasyncupdateop" title="Permanent link">link</a></h4>
<p><em>Updates a slice of a subview of a resource in-place</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.async.update` (`on` `(` $affinity^ `)`)?
              $update `,`
              $target `[` $target_offset `to` $target_end `]` `:`
              type($update) `` `{` $update_size `}` `-&gt;`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Copies a value into a resource based on a byte range. The returned value
is the entire updated target value. Updates can be turned into placement
allocations and avoid copies.</p>
<p>Traits: Stream_AsyncPhaseOp</p>
<p>Interfaces: AsyncAccessOpInterface, InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_SizeAwareOp</p>
<h5 id="attributes_34">Attributes:<a class="headerlink" href="#attributes_34" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_44">Operands:<a class="headerlink" href="#operands_44" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_offset</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_end</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>update</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>update_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_34">Results:<a class="headerlink" href="#results_34" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h3 id="synchronization-ops">Synchronization ops<a class="headerlink" href="#synchronization-ops" title="Permanent link">link</a></h3>
<h4 id="streamtimepointawait-streamtimepointawaitop"><code>stream.timepoint.await</code> (Stream::TimepointAwaitOp)<a class="headerlink" href="#streamtimepointawait-streamtimepointawaitop" title="Permanent link">link</a></h4>
<p><em>Awaits a timepoint before returning a set of resources</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.await` (`on` `(` $affinity^ `)`)?
              $await_timepoint `=` `` `&gt;`
              $resource_operands `:`
              custom&lt;SizeAwareTypeList&gt;(type($resource_operands),
              type($results), $resource_operand_sizes)
              attr-dict-with-keyword
</code></pre></div>
<p>After asynchronous execution scheduling resources may exist in different
states at different points in the execution timeline. This op enables
resolving the version of a resource after a particular point in the
timeline. As timepoints transitively chain the timepoint must only cover the
resource availability but not be limited to its original production
timepoint.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_TimelineOp, TiedOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_35">Attributes:<a class="headerlink" href="#attributes_35" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_45">Operands:<a class="headerlink" href="#operands_45" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource_operands</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_operand_sizes</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_35">Results:<a class="headerlink" href="#results_35" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointbarrier-streamtimepointbarrierop"><code>stream.timepoint.barrier</code> (Stream::TimepointBarrierOp)<a class="headerlink" href="#streamtimepointbarrier-streamtimepointbarrierop" title="Permanent link">link</a></h4>
<p><em>Returns a timepoint indicating when a resource is available</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.barrier` (`on` `(` $affinity^ `)`)?
              $resource `:` type($resource) `` `{` $resource_size `}`
              `=` `` `&gt;`
              type($result_timepoint)
              attr-dict-with-keyword
</code></pre></div>
<p>After asynchronous execution scheduling resources may exist in different
states at different points in the execution timeline. This op enables
identifying when the version of a resource after a particular point in the
timeline is available. As timepoints transitively chain the timepoint must
only cover the resource availability but not be limited to its original
production timepoint.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_TimelineOp, TiedOpInterface, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_36">Attributes:<a class="headerlink" href="#attributes_36" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_46">Operands:<a class="headerlink" href="#operands_46" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>resource</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>resource_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_36">Results:<a class="headerlink" href="#results_36" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource or staging resource</td>
</tr>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointchain_external-streamtimepointchainexternalop"><code>stream.timepoint.chain_external</code> (Stream::TimepointChainExternalOp)<a class="headerlink" href="#streamtimepointchain_external-streamtimepointchainexternalop" title="Permanent link">link</a></h4>
<p><em>Exports a timepoint to an external dialect type</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.chain_external` (`on` `(` $affinity^ `)`)?
              $await_timepoint
              `=` `` `&gt;`
              `(` $external_values `:` type($external_values) `)`
              attr-dict-with-keyword
</code></pre></div>
<p>Defines a conversion to an external dialect type such as <code>hal.fence</code>
that is resolved during lowering into the stream dialect. This can be used
to interoperate between levels of the stack that require specifying stream
types and those that prior to lowering do not handle them.</p>
<p>Interfaces: Stream_AffinityOp</p>
<h5 id="attributes_37">Attributes:<a class="headerlink" href="#attributes_37" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_47">Operands:<a class="headerlink" href="#operands_47" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
<tr>
<td align="center"><code>external_values</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointexport-streamtimepointexportop"><code>stream.timepoint.export</code> (Stream::TimepointExportOp)<a class="headerlink" href="#streamtimepointexport-streamtimepointexportop" title="Permanent link">link</a></h4>
<p><em>Exports a timepoint to an external dialect type</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.export` (`on` `(` $affinity^ `)`)?
              $await_timepoint
              `=` `` `&gt;`
              `(` type($results) `)`
              attr-dict-with-keyword
</code></pre></div>
<p>Defines a conversion to an external dialect type such as <code>hal.fence</code>
that is resolved during lowering into the stream dialect. This can be used
to interoperate between levels of the stack that require specifying stream
types and those that prior to lowering do not handle them.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_38">Attributes:<a class="headerlink" href="#attributes_38" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_48">Operands:<a class="headerlink" href="#operands_48" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>await_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_37">Results:<a class="headerlink" href="#results_37" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>results</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointimmediate-streamtimepointimmediateop"><code>stream.timepoint.immediate</code> (Stream::TimepointImmediateOp)<a class="headerlink" href="#streamtimepointimmediate-streamtimepointimmediateop" title="Permanent link">link</a></h4>
<p><em>Results an immediately-available timepoint</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.immediate` attr-dict
              `=` `` `&gt;` type($result_timepoint)
</code></pre></div>
<p>Timepoints indicate a point in the execution timeline and this op can be
used to get a placeholder representing the start of the timeline. Any waits
on the returned timepoint will resolve immediately. This generally folds
away but can be useful if needing to initialize globals or branch args.</p>
<p>Traits: AlwaysSpeculatableImplTrait, ConstantLike</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_TimelineOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="results_38">Results:<a class="headerlink" href="#results_38" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointimport-streamtimepointimportop"><code>stream.timepoint.import</code> (Stream::TimepointImportOp)<a class="headerlink" href="#streamtimepointimport-streamtimepointimportop" title="Permanent link">link</a></h4>
<p><em>Imports a timepoint from an external dialect type</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.import` (`on` `(` $affinity^ `)`)?
              $operands `:` `(` type($operands) `)`
              `=` `` `&gt;`
              type($result_timepoint)
              attr-dict-with-keyword
</code></pre></div>
<p>Defines a conversion from an external dialect type such as <code>hal.semaphore</code>
that is resolved during lowering into the stream dialect. This can be used
to interoperate between levels of the stack that require specifying stream
types and those that prior to lowering do not handle them.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_39">Attributes:<a class="headerlink" href="#attributes_39" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_49">Operands:<a class="headerlink" href="#operands_49" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operands</code></td>
<td>any type</td>
</tr>
</tbody>
</table>
<h5 id="results_39">Results:<a class="headerlink" href="#results_39" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h4 id="streamtimepointjoin-streamtimepointjoinop"><code>stream.timepoint.join</code> (Stream::TimepointJoinOp)<a class="headerlink" href="#streamtimepointjoin-streamtimepointjoinop" title="Permanent link">link</a></h4>
<p><em>Joins one or more timepoints into the max of all of them</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.timepoint.join` `max` `(` $await_timepoints `)` `=` `` `&gt;` type($result_timepoint)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a timepoint that indicates that all of the input timepoints have
been reached.</p>
<p>Traits: AlwaysSpeculatableImplTrait</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_TimelineOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="operands_50">Operands:<a class="headerlink" href="#operands_50" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>await_timepoints</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h5 id="results_40">Results:<a class="headerlink" href="#results_40" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_timepoint</code></td>
<td>a timepoint indicating execution availability</td>
</tr>
</tbody>
</table>
<h3 id="tensor-ops">Tensor ops<a class="headerlink" href="#tensor-ops" title="Permanent link">link</a></h3>
<h4 id="streamtensorclone-streamtensorcloneop"><code>stream.tensor.clone</code> (Stream::TensorCloneOp)<a class="headerlink" href="#streamtensorclone-streamtensorcloneop" title="Permanent link">link</a></h4>
<p><em>Clones the contents of a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.clone` (`on` `(` $affinity^ `)`)?
              $source `:`
              $source_encoding (`` `{` $source_encoding_dims^ `}`)?
              `in`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Clones the contents of a value at a snapshot in time. Future changes to the
cloned value will not effect the result. Acts as a copy-on-write operation.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_StreamableOp, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_40">Attributes:<a class="headerlink" href="#attributes_40" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_51">Operands:<a class="headerlink" href="#operands_51" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_41">Results:<a class="headerlink" href="#results_41" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorconstant-streamtensorconstantop"><code>stream.tensor.constant</code> (Stream::TensorConstantOp)<a class="headerlink" href="#streamtensorconstant-streamtensorconstantop" title="Permanent link">link</a></h4>
<p><em>Defines a constant tensor value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.constant` (`on` `(` $affinity^ `)`)?
              `:`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result)
              `=`
              $value
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a typed resource initialized to the given constant value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, Stream_AffinityOp, Stream_StreamableOp, Util_ShapeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_41">Attributes:<a class="headerlink" href="#attributes_41" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>value</code></td>
<td align="center">::mlir::ElementsAttr</td>
<td>constant vector/tensor attribute</td>
</tr>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_52">Operands:<a class="headerlink" href="#operands_52" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_42">Results:<a class="headerlink" href="#results_42" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorempty-streamtensoremptyop"><code>stream.tensor.empty</code> (Stream::TensorEmptyOp)<a class="headerlink" href="#streamtensorempty-streamtensoremptyop" title="Permanent link">link</a></h4>
<p><em>Defines an empty tensor value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.empty` (`on` `(` $affinity^ `)`)?
              `:`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a typed resource initialized with no contents. This still carries
shape metadata and may encode to a non-empty resource such as in cases
where the empty representation still has data (e.g. sparse tensors).
Subsequent writes must populate any ranges of the tensor that are later
read.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, Stream_AffinityOp, StreamableOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_42">Attributes:<a class="headerlink" href="#attributes_42" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_53">Operands:<a class="headerlink" href="#operands_53" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_43">Results:<a class="headerlink" href="#results_43" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorfill-streamtensorfillop"><code>stream.tensor.fill</code> (Stream::TensorFillOp)<a class="headerlink" href="#streamtensorfill-streamtensorfillop" title="Permanent link">link</a></h4>
<p><em>Fills a subview of a stream resource with a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.fill` (`on` `(` $affinity^ `)`)?
              $value `,` $target `[` $start_indices `for` $lengths `]` `:`
              type($value)
              `-&gt;`
              $target_encoding (`` `{` $target_encoding_dims^ `}`)?
              `in`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Splats a value into a subview of the given stream resource and returns the
resource with the update applied.</p>
<p>Equivalent to a stream.tensor.splat + stream.tensor.update.</p>
<p>Traits: AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<h5 id="attributes_43">Attributes:<a class="headerlink" href="#attributes_43" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_54">Operands:<a class="headerlink" href="#operands_54" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>start_indices</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>lengths</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>index or integer or floating-point or complex-type</td>
</tr>
</tbody>
</table>
<h5 id="results_44">Results:<a class="headerlink" href="#results_44" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorload-streamtensorloadop"><code>stream.tensor.load</code> (Stream::TensorLoadOp)<a class="headerlink" href="#streamtensorload-streamtensorloadop" title="Permanent link">link</a></h4>
<p><em>Loads a value from a tensor element</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.load` $source (`[` $indices^ `]`)? `:`
              $source_encoding (`` `{` $source_encoding_dims^ `}`)?
              `in`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              type($result)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns the element at the given location from within the tensor.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_44">Attributes:<a class="headerlink" href="#attributes_44" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_55">Operands:<a class="headerlink" href="#operands_55" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>source_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>indices</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_45">Results:<a class="headerlink" href="#results_45" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorsizeof-streamtensorsizeofop"><code>stream.tensor.sizeof</code> (Stream::TensorSizeOfOp)<a class="headerlink" href="#streamtensorsizeof-streamtensorsizeofop" title="Permanent link">link</a></h4>
<p><em>Calculates the storage size of a given high-level type</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.sizeof` (`on` `(` $affinity^ `)`)?
              $encoding (`{` $encoding_dims^ `}`)?
              attr-dict `:` type($storage_size)
</code></pre></div>
<p>Target-dependent storage size calculation using a high-level annotated type.
While within the stream dialect the storage size of a value is left as a
placeholder using this op. The requisite target-specific parameters for
expanding the size calculation are only available after affinities have been
assigned.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_45">Attributes:<a class="headerlink" href="#attributes_45" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_56">Operands:<a class="headerlink" href="#operands_56" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>encoding_dims</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_46">Results:<a class="headerlink" href="#results_46" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>storage_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorslice-streamtensorsliceop"><code>stream.tensor.slice</code> (Stream::TensorSliceOp)<a class="headerlink" href="#streamtensorslice-streamtensorsliceop" title="Permanent link">link</a></h4>
<p><em>Slices out a cloned subview of a value</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.slice` (`on` `(` $affinity^ `)`)?
              $source `[` $start_indices `for` $lengths `]` `:`
              $source_encoding (`` `{` $source_encoding_dims^ `}`)?
              `in`
              type($source) `` `{` $source_size `}`
              `-&gt;`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Slices a subrange of a stream resource based on a tensor encoding. Acts as a
copy-on-write operation.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, Stream_StreamableOp, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_46">Attributes:<a class="headerlink" href="#attributes_46" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_57">Operands:<a class="headerlink" href="#operands_57" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>source</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>source_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>source_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>start_indices</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>lengths</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_47">Results:<a class="headerlink" href="#results_47" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorsplat-streamtensorsplatop"><code>stream.tensor.splat</code> (Stream::TensorSplatOp)<a class="headerlink" href="#streamtensorsplat-streamtensorsplatop" title="Permanent link">link</a></h4>
<p><em>Splats a value into a shaped tensor</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.splat` (`on` `(` $affinity^ `)`)?
              $value
              `:` type($value)
              `-&gt;`
              $result_encoding (`` `{` $result_encoding_dims^ `}`)?
              `in`
              type($result) `` `{` $result_size `}`
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a typed resource initialized to the given primitive value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Stream_AffinityOp, StreamableOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_47">Attributes:<a class="headerlink" href="#attributes_47" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_58">Operands:<a class="headerlink" href="#operands_58" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>value</code></td>
<td>index or integer or floating-point or complex-type</td>
</tr>
<tr>
<td align="center"><code>result_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>result_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_48">Results:<a class="headerlink" href="#results_48" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorstore-streamtensorstoreop"><code>stream.tensor.store</code> (Stream::TensorStoreOp)<a class="headerlink" href="#streamtensorstore-streamtensorstoreop" title="Permanent link">link</a></h4>
<p><em>Stores a value into a tensor element</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.store` $value `,`
              $target (`[` $indices^ `]`)? `:`
              type($value)
              `-&gt;`
              $target_encoding (`` `{` $target_encoding_dims^ `}`)?
              `in`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Returns a tensor with the element at the given index set to the given value.</p>
<p>Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: ConditionallySpeculatable, InferTypeOpInterface, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<p>Effects: MemoryEffects::Effect{}</p>
<h5 id="attributes_48">Attributes:<a class="headerlink" href="#attributes_48" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_59">Operands:<a class="headerlink" href="#operands_59" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>staging resource</td>
</tr>
<tr>
<td align="center"><code>target_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>indices</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>value</code></td>
<td>index or integer or floating-point or complex-type or vector of any type values</td>
</tr>
</tbody>
</table>
<h5 id="results_49">Results:<a class="headerlink" href="#results_49" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>staging resource</td>
</tr>
</tbody>
</table>
<h4 id="streamtensortrace-streamtensortraceop"><code>stream.tensor.trace</code> (Stream::TensorTraceOp)<a class="headerlink" href="#streamtensortrace-streamtensortraceop" title="Permanent link">link</a></h4>
<p><em>Trace value(s) operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.trace` attr-dict ($operands^ `:` type($operands))?
</code></pre></div>
<p>Traces out to a runtime trace sink (console, log file, etc) the given
tensors and titles them with the given key. The key is informational only
and useful for titling/marking specific sets of tensors for easier
searching.</p>
<h5 id="attributes_49">Attributes:<a class="headerlink" href="#attributes_49" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>key</code></td>
<td align="center">::mlir::StringAttr</td>
<td>string attribute</td>
</tr>
</tbody>
</table>
<h5 id="operands_60">Operands:<a class="headerlink" href="#operands_60" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>operands</code></td>
<td>tensor of any type values</td>
</tr>
</tbody>
</table>
<h4 id="streamtensorupdate-streamtensorupdateop"><code>stream.tensor.update</code> (Stream::TensorUpdateOp)<a class="headerlink" href="#streamtensorupdate-streamtensorupdateop" title="Permanent link">link</a></h4>
<p><em>Updates a slice of a subview of a resource in-place</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `stream.tensor.update` (`on` `(` $affinity^ `)`)?
              $update `,` $target `[` $start_indices `]` `:`
              $update_encoding (`` `{` $update_encoding_dims^ `}`)?
              `in`
              type($update) `` `{` $update_size `}`
              `-&gt;`
              $target_encoding (`` `{` $target_encoding_dims^ `}`)?
              `in`
              custom&lt;ShapedTiedResult&gt;(type($target), $target_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Copies a value into a resource based on tensor encodings. The returned value
is the entire updated target value.</p>
<p>Traits: AttrSizedOperandSegments, Stream_TensorPhaseOp</p>
<p>Interfaces: InferTypeOpInterface, Stream_AffinityOp, Stream_StreamableOp, TiedOpInterface, Util_ShapeAwareOp, Util_SizeAwareOp</p>
<h5 id="attributes_50">Attributes:<a class="headerlink" href="#attributes_50" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Attribute</th>
<th align="center">MLIR Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>update_encoding</code></td>
<td align="center">::mlir::TypeAttr</td>
<td>any type attribute</td>
</tr>
<tr>
<td align="center"><code>affinity</code></td>
<td align="center">::mlir::iree_compiler::IREE::Stream::AffinityAttr</td>
<td>defines execution context affinity</td>
</tr>
</tbody>
</table>
<h5 id="operands_61">Operands:<a class="headerlink" href="#operands_61" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Operand</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>target</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>target_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>target_size</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>start_indices</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>update</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
<tr>
<td align="center"><code>update_encoding_dims</code></td>
<td>index</td>
</tr>
<tr>
<td align="center"><code>update_size</code></td>
<td>index</td>
</tr>
</tbody>
</table>
<h5 id="results_50">Results:<a class="headerlink" href="#results_50" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Result</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>result</code></td>
<td>resource or external resource or transient resource or variable resource or constant resource</td>
</tr>
</tbody>
</table>
<h2 id="attribute-definition">Attribute definition<a class="headerlink" href="#attribute-definition" title="Permanent link">link</a></h2>
<h3 id="collectiveattr">CollectiveAttr<a class="headerlink" href="#collectiveattr" title="Permanent link">link</a></h3>
<p>collective operation and specification</p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>#stream.collective&lt;
  CollectiveKind,   # kind
  std::optional&lt;CollectiveReductionOp&gt;,   # reduction
  CollectiveElementType   # element_type
&gt;
</code></pre></div>
<p>Specifies the collective operation to perform and any mode bits required.</p>
<h5 id="parameters">Parameters:<a class="headerlink" href="#parameters" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">kind</td>
<td align="center"><code>CollectiveKind</code></td>
<td></td>
</tr>
<tr>
<td align="center">reduction</td>
<td align="center"><code>std::optional&lt;CollectiveReductionOp&gt;</code></td>
<td></td>
</tr>
<tr>
<td align="center">element_type</td>
<td align="center"><code>CollectiveElementType</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="partitioningconfigattr">PartitioningConfigAttr<a class="headerlink" href="#partitioningconfigattr" title="Permanent link">link</a></h3>
<p>defines partitioning configuration</p>
<p>Configures the partitioning algorithm to use and its configuration.
Partitioning is useful to adjust when scheduling behavior of targets is
radically different - such as single-threaded vs. multi-threaded CPUs or
bespoke ML accelerators vs. general purpose GPUs. This mechanism controls
the amount of concurrency, parallelism, memory consumption, and latency.</p>
<h5 id="parameters_1">Parameters:<a class="headerlink" href="#parameters_1" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">favor</td>
<td align="center"><code>IREE::Stream::FavorAttr</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="resourceconfigattr">ResourceConfigAttr<a class="headerlink" href="#resourceconfigattr" title="Permanent link">link</a></h3>
<p>defines resource constraints configuration</p>
<p>Defines resource storage constraints. These allow for packing and layout
algorithms to ensure they are producing usable results on target devices.</p>
<h5 id="parameters_2">Parameters:<a class="headerlink" href="#parameters_2" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">maxAllocationSize</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">minBufferOffsetAlignment</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">maxBufferRange</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">minBufferRangeAlignment</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">indexBits</td>
<td align="center"><code>int64_t</code></td>
<td></td>
</tr>
<tr>
<td align="center">aliasMutableBindings</td>
<td align="center"><code>bool</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="timepointattr">TimepointAttr<a class="headerlink" href="#timepointattr" title="Permanent link">link</a></h3>
<p>an immediately-resolved timepoint</p>
<h5 id="parameters_3">Parameters:<a class="headerlink" href="#parameters_3" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">type</td>
<td align="center"><code>::mlir::Type</code></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="type-constraint-definition">Type constraint definition<a class="headerlink" href="#type-constraint-definition" title="Permanent link">link</a></h2>
<h3 id="constant-resource">constant resource<a class="headerlink" href="#constant-resource" title="Permanent link">link</a></h3>
<p>Stream constants are immutable values that are available for the lifetime of
the program once initialized.</p>
<h3 id="external-resource">external resource<a class="headerlink" href="#external-resource" title="Permanent link">link</a></h3>
<p>Stream external values represent asynchronously-available and sequenced
values that are owned and managed by external code - such as those passed in
or out of the program entry points. Though external values are managed
during an invocation the same as other stream values the visibility into
them does not extend outside of the invocation they are provided to.</p>
<p>Stream values are not usable directly outside of a stream execution or
transfer operation. If the contents of the value are needed they must first
be transferred via <code>stream.transfer</code> - which may incur a copy.</p>
<h3 id="staging-resource">staging resource<a class="headerlink" href="#staging-resource" title="Permanent link">link</a></h3>
<p>Stream upload/download staging resource. These are used outside of streams
and then transferred to other stream resources such as variables or
transients for use inside of streams. Dispatches and several other
operations cannot directly operate on these resources.</p>
<h3 id="transient-resource">transient resource<a class="headerlink" href="#transient-resource" title="Permanent link">link</a></h3>
<p>Stream transients represent asynchronously-available and sequenced values
that have a short lifetime - often only passed between stream executions.
It is expected that transient values are not stored in global state and have
minimal lifetime as they may be heavily pooled or suballocated.</p>
<p>Stream values are not usable directly outside of a stream execution or
transfer operation. If the contents of the value are needed they must first
be transferred via <code>stream.transfer</code> - which may incur a copy.</p>
<h3 id="resource">resource<a class="headerlink" href="#resource" title="Permanent link">link</a></h3>
<p>A stream resource that has not yet had its lifetime calculated.</p>
<h3 id="variable-resource">variable resource<a class="headerlink" href="#variable-resource" title="Permanent link">link</a></h3>
<p>Stream variables represent asynchronously-available and sequenced values
that have a long lifetime relative to the work being performed on them.
These variables are often stored in global state and may live for the entire
duration of the program.</p>
<p>Stream values are not usable directly outside of a stream execution or
transfer operation. If the contents of the value are needed they must first
be transferred via <code>stream.transfer</code> - which may incur a copy.</p>
<h2 id="type-definition">Type definition<a class="headerlink" href="#type-definition" title="Permanent link">link</a></h2>
<h3 id="bindingtype">BindingType<a class="headerlink" href="#bindingtype" title="Permanent link">link</a></h3>
<p>a managed resource binding into an executable scope</p>
<p>Syntax: <code>!stream.binding</code></p>
<p>A resource binding available within an executable dispatch function.
The bindings map 1:1 with the resources bound during dispatch operations.</p>
<h3 id="channeltype">ChannelType<a class="headerlink" href="#channeltype" title="Permanent link">link</a></h3>
<p>a collective communication channel</p>
<p>Syntax: <code>!stream.channel</code></p>
<p>Represents a single participant in a collective clique. Multiple channels
may exist within the same program to allow for partial operations or
hierarchical operations.</p>
<p>In programs that model SPMD behavior internally channels can be created or
provided by hosting applications. For example, the program could expose a
<code>@set_channels(!util.list&lt;!stream.channel&gt;)</code> method that stores the channels
in globals for use throughout the program allowing for
application-controlled channel configuration.</p>
<h3 id="resourcetype">ResourceType<a class="headerlink" href="#resourcetype" title="Permanent link">link</a></h3>
<p>a managed resource</p>
<p>Stream external values represent asynchronously-available and sequenced
values that are owned and managed by external code - such as those passed in
or out of the program entry points. Though external values are managed
during an invocation the same as other stream values the visibility into
them does not extend outside of the invocation they are provided to.</p>
<p>Stream values are not usable directly outside of a stream execution or
transfer operation. If the contents of the value are needed they must first
be transferred via <code>stream.transfer</code> - which may incur a copy.</p>
<h5 id="parameters_4">Parameters:<a class="headerlink" href="#parameters_4" title="Permanent link">link</a></h5>
<table>
<thead>
<tr>
<th align="center">Parameter</th>
<th align="center">C++ type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">lifetime</td>
<td align="center"><code>IREE::Stream::Lifetime</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="timepointtype">TimepointType<a class="headerlink" href="#timepointtype" title="Permanent link">link</a></h3>
<p>a timepoint indicating execution availability</p>
<p>Syntax: <code>!stream.timepoint</code></p>
<p>Represents a point in the execution timeline that when resolved indicates
that all of the execution prior to this timepoint has completed and the
results of the execution are available for use. This includes transitive
dependencies as well; if timepoint B is dependent on timepoint A then when
B is available so too must be A.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 The IREE Authors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/openxla/iree" target="_blank" rel="noopener" title="IREE on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/26P4xW4" target="_blank" rel="noopener" title="IREE Discord Server" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://groups.google.com/forum/#!forum/iree-discuss" target="_blank" rel="noopener" title="IREE Discuss Google Group" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M144 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zm368 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1-192 0zm-96 261.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.indexes", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b425cdc4.min.js"></script>
      
    
  </body>
</html>