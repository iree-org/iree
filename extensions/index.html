
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://openxla.github.io/iree/extensions/">
      
      
        <link rel="prev" href="../bindings/tensorflow-lite/">
      
      
        <link rel="next" href="../blog/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.0">
    
    
      
        <title>Extension mechanisms - IREE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto:300,300i,400,400i,700,700i%7CNoto+Sans+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto";--md-code-font:"Noto Sans Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/openxla.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#extension-mechanisms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine base classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to community home -->
    <a
      href="https://github.com/openxla/community"
      title="OpenXLA"
      class="md-header__button md-logo"
      aria-label="OpenXLA"
      data-md-component="logo"
    >
      
  <img src="../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>

    <!-- Link to site home -->
    <a
      href=".."
      title="IREE"
      class="md-header__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      <div class="md-header__title">
        IREE
      </div>
    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extension mechanisms
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="default"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary=""
            data-md-color-accent=""
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->




<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Community site logo / home page link -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://github.com/openxla/community"
      title="IREE"
      class="md-nav__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      
  <img src="../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>
    <!-- Site title (nav item below links to site home) -->
    IREE
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../getting-started/">Getting Started</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/tflite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/jax/" class="md-nav__link">
        JAX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/pytorch/" class="md-nav__link">
        PyTorch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../deployment-configurations/">Deployment configurations</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Deployment configurations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deployment-configurations/cpu/" class="md-nav__link">
        CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deployment-configurations/bare-metal/" class="md-nav__link">
        CPU - Bare-Metal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deployment-configurations/gpu-vulkan/" class="md-nav__link">
        GPU - Vulkan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deployment-configurations/gpu-cuda-rocm/" class="md-nav__link">
        GPU - CUDA/ROCm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../building-from-source/">Building from source</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Building from source
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building-from-source/getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building-from-source/python-bindings-and-importers/" class="md-nav__link">
        Python bindings and importers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building-from-source/android/" class="md-nav__link">
        Android cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building-from-source/ios/" class="md-nav__link">
        iOS cross-compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../building-from-source/riscv/" class="md-nav__link">
        RISC-V cross-compilation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../bindings/">Bindings</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Bindings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bindings/c-api/" class="md-nav__link">
        C API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bindings/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bindings/tensorflow-lite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">Extensions</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../blog/">Blog</a>
          
            <label for="__nav_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-10-15-cuda-backend/" class="md-nav__link">
        CUDA backend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-10-13-mmt4d/" class="md-nav__link">
        Work in progress on Matrix Multiplication on CPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-07-19-tflite-tosa/" class="md-nav__link">
        TFLite Support via TOSA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/optimization-options/" class="md-nav__link">
        Optimization Options
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../community/">Community</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#guidelines" class="md-nav__link">
    Guidelines
  </a>
  
    <nav class="md-nav" aria-label="Guidelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extension-philosophy" class="md-nav__link">
    Extension philosophy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-extend" class="md-nav__link">
    When to extend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-to-extend-inputscompilerruntime" class="md-nav__link">
    Where to extend (inputs/compiler/runtime)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-to-extend-hostdevice" class="md-nav__link">
    Where to extend (host/device)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-target-iree-input-dialects" class="md-nav__link">
    1. Target IREE input dialects
  </a>
  
    <nav class="md-nav" aria-label="1. Target IREE input dialects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pros" class="md-nav__link">
    Pros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cons" class="md-nav__link">
    Cons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use" class="md-nav__link">
    When to use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-extend-host-code-with-custom-modules" class="md-nav__link">
    2. Extend host code with custom modules
  </a>
  
    <nav class="md-nav" aria-label="2. Extend host code with custom modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pros_1" class="md-nav__link">
    Pros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cons_1" class="md-nav__link">
    Cons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use_1" class="md-nav__link">
    When to use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_1" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-extend-target-specific-device-conversion-patterns" class="md-nav__link">
    3. Extend target-specific device conversion patterns
  </a>
  
    <nav class="md-nav" aria-label="3. Extend target-specific device conversion patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pros_2" class="md-nav__link">
    Pros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cons_2" class="md-nav__link">
    Cons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use_2" class="md-nav__link">
    When to use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_2" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-include-external-target-specific-device-code" class="md-nav__link">
    4. Include external target-specific device code
  </a>
  
    <nav class="md-nav" aria-label="4. Include external target-specific device code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pros_3" class="md-nav__link">
    Pros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cons_3" class="md-nav__link">
    Cons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use_3" class="md-nav__link">
    When to use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_3" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-dynamically-link-target-specific-device-code-cpu-only" class="md-nav__link">
    5. Dynamically link target-specific device code (CPU only)
  </a>
  
    <nav class="md-nav" aria-label="5. Dynamically link target-specific device code (CPU only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pros_4" class="md-nav__link">
    Pros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cons_4" class="md-nav__link">
    Cons
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use_4" class="md-nav__link">
    When to use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation_4" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="extension-mechanisms">Extension mechanisms<a class="headerlink" href="#extension-mechanisms" title="Permanent link">link</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Much of this describes provisions for extension within IREE but until
the core of the system has settled little work will be done to fully
flesh-out and document them in detail. A large majority of things that would
make someone want to extend IREE can instead be accomplished much easier and
performantly using native MLIR dialects that are then processed by the IREE
compiler.</p>
</div>
<h2 id="guidelines">Guidelines<a class="headerlink" href="#guidelines" title="Permanent link">link</a></h2>
<p>IREE has a compiler and runtime separation, a multi-layered architecture, and
split between execution of "host code" that schedules compute-heavy work and
<a href="https://en.wikipedia.org/wiki/SPMD">SPMD</a> "device code" that performs the bulk
of compute operations. Each axis has a different set of extension mechanisms
that can be used independently or combined.</p>
<h3 id="extension-philosophy">Extension philosophy<a class="headerlink" href="#extension-philosophy" title="Permanent link">link</a></h3>
<p>Organized below are some of the mechanisms IREE provides for extending the core
compiler and runtime and when they should(n't) be used. The goal of these
progressively lower-level extension mechanisms is to make it easier for users
to fall into <a href="https://ricomariani.medium.com/the-pit-of-success-cfefc6cb64c8">the pit of success</a>:</p>
<div class="admonition quote">
<p class="admonition-title">Quote</p>
<p>"<em>a well-designed system makes it easy to do the right things and annoying (but not impossible) to do the wrong things.</em>" - <a href="https://blog.codinghorror.com/falling-into-the-pit-of-success/">Jeff Atwood</a></p>
</div>
<p>The amount of engineering complexity for initial bring-up and maintenance
increases with each subsequently lower-level approach and it is best to start
from the top and exit as fast as possible: this is a choose-your-own-adventure
where you're trying to escape the dungeon with both the loot and your limbs
<img alt="ðŸ‰" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f409.svg" title=":dragon:" />. Avoid the temptation of immediately dropping down to making external
C calls at runtime because that's how it's been done before as it's easier,
more robust, and more performant to use the system as it is intended to be used.</p>
<h3 id="when-to-extend">When to extend<a class="headerlink" href="#when-to-extend" title="Permanent link">link</a></h3>
<p><strong>The primary goal when extending any framework should first be to avoid
extending it at all.</strong> There is no mechanism that is free - whether in terms of
engineering effort to develop and maintain over time, include in compiler
deployments, or include in runtime deployments. As a system scales in
deployment configurations the available mechanisms for extension increase but
so too does the chaos introduced by extensions that do not also scale with that
design. Users are the only ones who can determine the tradeoffs they are
willing to accept: for example, the mechanism to extend device code with a
custom runtime call to a C function does not work on GPUs and gets
significantly more complicated on CPUs as sandboxes/enclaves are used - but if
the user scenario is for local process CPU-only execution that may not matter.</p>
<h3 id="where-to-extend-inputscompilerruntime">Where to extend (inputs/compiler/runtime)<a class="headerlink" href="#where-to-extend-inputscompilerruntime" title="Permanent link">link</a></h3>
<p>Consider in normal software development when one would choose to write more
code (possibly packaging it into a reusable library) vs. changing the
programming language or compiler they are using to compile their code vs.
changing the operating systems their code runs on. The further one gets from
the problem they are trying to solve the more work, coordination, and
maintenance is involved and though there are reasons to make changes across the
stack they should be done only when a simpler solution would not suffice.</p>
<p>An author will retain more control over their logic the closer they sit to the
inputs to the compiler. IREE provides several mechanisms that try to keep
control with the author and robust to changes in IREE or MLIR internals and it
is strongly encouraged that those looking to extend take those routes first.
Contributions that help everyone are very welcome but do have a higher cost and
it's often much easier to design and justify upstream changes with working
examples in forks or at higher levels of the stack.</p>
<h3 id="where-to-extend-hostdevice">Where to extend (host/device)<a class="headerlink" href="#where-to-extend-hostdevice" title="Permanent link">link</a></h3>
<p>From a performance perspective the rule is to colocate code with the data it is
acting on: tensor data, for example, should almost exclusively be manipulated by
device code as tensors live on device. Attempting to use tensor data with host
code will result in synchronization points and host/device transfers that can
decimate performance. This can lead to seemingly paradoxical situations where
swapping out compiler-generated code for a human-authored "fast path" can be
slower than even the most naive compiler results. An important thing to keep in
mind with compilers is that it is exceedingly difficult to produce code by hand
that is consistently more performant across a broad range of deployments and
<em>the first temptation should always be to improve the compiler</em> - extending it
via other mechanisms when not required by the task is often just premature
optimization.</p>
<h2 id="1-target-iree-input-dialects">1. Target IREE input dialects<a class="headerlink" href="#1-target-iree-input-dialects" title="Permanent link">link</a></h2>
<div class="admonition tldr">
<p class="admonition-title">TL;DR</p>
<p>Convert your custom ops into standard MLIR dialects.</p>
</div>
<div class="highlight"><pre><span></span><code>+------------+      +--------+      +---------------+
| Your input | -+-&gt; |  iree  | -+-&gt; | IREE compiler |
+------------+  |   +--------+  |   +---------------+
                |   +--------+  |
                +-&gt; | linalg | -+
                |   +--------+  |
                |      ....     |
</code></pre></div>
<p>The easiest, cleanest, and most robust path to extend IREE is to make use of
what MLIR is designed for: composing dialects and converting between them. IREE
supports several input dialects such as <code>tosa</code>, <code>mhlo</code>, <code>linalg</code>, and the
standard <code>arith</code>, <code>math</code>, <code>tensor</code>, and <code>scf</code> dialects. Any source IR that can
be turned into that mix of dialects (directly or transitively) will work with
the whole IREE pipeline for all deployment configurations and targets. If
possible to express the computation in this form it will always be the best
route to getting small deployments without the need to modify or include any
additional code at runtime and run on all device types and execution modes.</p>
<p>This mechanism can also be layered with any of the subsequent lower-level ones:
if some part of the operation runs on the host and some part on device then
decomposing it such that it contains as many standard ops for flow control as
possible and linear algebra/custom ops for the dense math will reduce the
engineering effort required on both sides and lead to an easier to maintain
solution even if lower-level extension is required.</p>
<p>A large majority of classic ML "custom ops" can be accomplished with this
approach. When bringing up projects built on IREE it's best to concisely
describe the operation in more elemental mathematical representations and then
add optimizations where required knowing that things will still work even if
those optimizations never happen.</p>
<h3 id="pros">Pros<a class="headerlink" href="#pros" title="Permanent link">link</a></h3>
<ul>
<li>No IREE compiler or runtime code changes required.<ul>
<li>Can use standard IREE packaged releases and tools.</li>
<li>No versioning issues at runtime.</li>
</ul>
</li>
<li>IREE's host/device partitioning can partition your code.</li>
<li>Fusion and other compiler techniques (CSE/DCE/inlining/etc) work on your code.</li>
<li>All target backends (CPU/GPU/accelerators/enclaves/etc) work.</li>
</ul>
<h3 id="cons">Cons<a class="headerlink" href="#cons" title="Permanent link">link</a></h3>
<ul>
<li>Input dialects cannot natively represent all possible programs (such as file
  IO and other syscalls).</li>
<li>Performance-sensitive host code (b-trees and other in-memory databases) will
  run through the slower VM paths if not authored as dense compute.</li>
</ul>
<h3 id="when-to-use">When to use<a class="headerlink" href="#when-to-use" title="Permanent link">link</a></h3>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Targeting multiple MLIR toolchains of which IREE is just
  one (as little to no IREE-specific code is required).</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Operation represents host code in addition to device code.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> All code is known statically or symbolically at
  compile-time (instead of independently versioned libraries at runtime).</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> Complex high-performance code not representable as linear algebra.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> External runtime interactions (file/network/user IO). Use
  custom modules.</li>
</ul>
<h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">link</a></h3>
<p>To make use of this approach one just needs to follow the standard
<a href="https://mlir.llvm.org/docs/DialectConversion/">MLIR dialect conversion</a>
behavior: add a dialect with ops, add a conversion pass, and run that pass
before providing the resulting IR to the IREE compiler. See
<a href="https://mlir.llvm.org/docs/Tutorials/CreatingADialect/">Creating a Dialect</a>.</p>
<p>Think of this like authoring C++ sources with templates that you compile into
your application: Clang (and LLVM beyond) don't know about your library details
and instead just process it as it would any other code. You can take the same
source and pass it to GCC and it'll be robust to underlying changes in the
system.</p>
<h2 id="2-extend-host-code-with-custom-modules">2. Extend host code with custom modules<a class="headerlink" href="#2-extend-host-code-with-custom-modules" title="Permanent link">link</a></h2>
<div class="admonition tldr">
<p class="admonition-title">TL;DR</p>
<p>Import MLIR functions in the compiler and custom modules at runtime.</p>
</div>
<div class="highlight"><pre><span></span><code>// Main user module compiled by IREE:
module @model {
  // Declare a synchronous external function:
  func.func private @my_custom_module.sync_func(%input: tensor&lt;?xf32&gt;) -&gt; i32
  // Declare an asynchronous external function:
  func.func private @my_custom_module.async_func(%input: tensor&lt;?xf32&gt;) -&gt; tensor&lt;?xf32&gt; attributes {
    iree.abi.model = &quot;coarse-fences&quot;,
    nosideeffects
  }
  func.func @predict() {
    ...
    // Call a synchronous/blocking external function:
    %sync_result = call @my_custom_module.sync_func(%sync_input) : (tensor&lt;?xf32&gt;) -&gt; i32
    ...
    ...
    // Call an asynchronous/non-blocking external function:
    %async_result = call @my_custom_module.async_func(%async_input) : (tensor&lt;?xf32&gt;) -&gt; tensor&lt;?xf32&gt;
    ...
  }
}
</code></pre></div>
<p>IREE provides dynamic linking at runtime via its VM interfaces. For code that
runs on the host and requires syscalls or calling out to existing libraries -
such as file IO, text processing, and JPEG decoding - this is an easy way to
interop without paying attention to the more complex details of device code.
An IREE module compiled using custom modules is portable and dynamically
deployable so long as the custom module is registered at runtime.</p>
<p>This approach conceptually matches what normal native binaries do in an OS:
imports are declared and at runtime they are resolved based on the available
exports of modules in the system. Just as with normal systems engineering
design of the API between modules is up to the user and depending on rigor can
have several pitfalls but these problems and their solutions are not IREE
specific and anyone who has designed a shared library interface can apply the
same rules here in IREE around versioning, performance, etc. One does not add 2
integers via a syscall and the same holds here: custom modules and the functions
within should perform a large amount of work to hide overheads involved in the
cross-module calls and users must be aware that the compiler cannot optimize
across the call boundaries.</p>
<p>See the <a href="https://github.com/openxla/iree/tree/main/samples/custom_module/sync/">synchronous tensor I/O</a>
and <a href="https://github.com/openxla/iree/tree/main/samples/custom_module/async/">asynchronous tensor I/O</a>
samples.</p>
<h3 id="pros_1">Pros<a class="headerlink" href="#pros_1" title="Permanent link">link</a></h3>
<ul>
<li>No IREE compiler code changes required.</li>
<li>Produced artifacts are portable across IREE deployment configurations.</li>
<li>Full system access is allowed - the VM just calls external functions.</li>
<li>Runtime modules can be implemented (via shims) in other languages/runtimes.</li>
</ul>
<h3 id="cons_1">Cons<a class="headerlink" href="#cons_1" title="Permanent link">link</a></h3>
<ul>
<li>Custom modules must be registered at runtime by the user.</li>
<li>The VM custom module ABI goo must be authored by the user (such as with JNI or
  pybind to move between java/python and C).</li>
<li>All custom module code must be compiled and deployed regardless of how much
  any modules use. The granularity of modules and their versioning is up to the
  user.</li>
<li>Custom module code cannot be optimized by the IREE compiler to avoid
  host/device readbacks and unnecessary data type conversion.</li>
</ul>
<h3 id="when-to-use_1">When to use<a class="headerlink" href="#when-to-use_1" title="Permanent link">link</a></h3>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Interactions with large libraries or system calls.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Performance-sensitive host code that cannot easily be
  represented as device code (like UTF-8 string transformation using libicu).</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> Extensively using tensor resources.</li>
</ul>
<h3 id="implementation_1">Implementation<a class="headerlink" href="#implementation_1" title="Permanent link">link</a></h3>
<p>The runtime portion requires that the code be exported to the VM system by way
of an <code>iree_vm_module_t</code> interface. A low-level native interface exists with
minimal overhead and is used for example <a href="https://github.com/openxla/iree/tree/main/iree/modules/hal">by the IREE HAL itself</a>.
There is also a C++ wrapper that is significantly easier to work with however it
needs some performance improvements.</p>
<p>Full end-to-end examples can be found under <a href="https://github.com/openxla/iree/tree/main/samples/custom_modules"><code>samples/custom_modules/</code></a>:</p>
<ul>
<li>The <a href="https://github.com/openxla/iree/tree/main/samples/custom_module/basic/">basic</a>
sample shows how to add VM modules with custom types and take advantage of ABI
features like fallback functions and optional imports.</li>
<li>The <a href="https://github.com/openxla/iree/tree/main/samples/custom_module/sync/">synchronous tensor I/O</a>
sample shows a call taking and returning a tensor and performing blocking work.</li>
<li>The <a href="https://github.com/openxla/iree/tree/main/samples/custom_module/async/">asynchronous tensor I/O</a>
sample shows the same thing but with fences for asynchronous scheduling.</li>
</ul>
<h2 id="3-extend-target-specific-device-conversion-patterns">3. Extend target-specific device conversion patterns<a class="headerlink" href="#3-extend-target-specific-device-conversion-patterns" title="Permanent link">link</a></h2>
<div class="admonition tldr">
<p class="admonition-title">TL;DR</p>
<p>Add patterns to <code>iree/Compiler/Codegen/</code> to emit target code.</p>
</div>
<p>The easiest and most robust path for specializations of device code is to emit
such code mixed with the IREE compiler generated code at the highest possible
level of abstraction within the target pipeline. For example, if the code can be
represented with the <code>vector</code> dialect then inserting conversion patterns between
<code>linalg</code> and <code>vector</code> enables the emitted code to be specialized further based
on user configuration and optimized with the full set of available passes that
run in the pipeline. For each level lower one goes the more flexibility they
gain such as being able to emit inline assembly blocks that do anything while
trading off generality and multi-targeting applicability.</p>
<p>How much the tradeoff matters is based on the behavior of the extension.
If a pattern changing a transcendental function to an approximation can operate
at the vector level then all IREE deployment targets can benefit from the
pattern and as new targets are made available they will automatically receive
the benefits. In contrast, a pattern at the vector level that turns generic
vector operations into architecture-specific LLVM intrinsics by its nature only
pertains to a single target family and can be done at a lower level. As a rule
of thumb if a particular pattern is going to need ~N implementations for ~N
targets that are all mostly the same it's better to try to move that higher in
the stack.</p>
<p>At this point the complexity of extending things is still fairly constrained: a
C++ pass or pattern is verified with normal lit tests and can be upstreamed
easily either into MLIR or IREE (a large number of IREE patterns are upstreamed,
benefiting all users of MLIR). Cross-compilation and versioning are not a factor
and the IREE artifacts can be considered durable at a coarse level (outside of
major target architectural changes).</p>
<p>Note that depending on the target there are various mechanisms for representing
code in MLIR, up to including inline assembly snippets in IR via
<a href="https://mlir.llvm.org/docs/Dialects/LLVM/#llvminline_asm-mlirllvminlineasmop"><code>llvm.inline_asm</code></a>.</p>
<h3 id="pros_2">Pros<a class="headerlink" href="#pros_2" title="Permanent link">link</a></h3>
<ul>
<li>Not limited to what is possible to represent in any particular MLIR dialect.</li>
<li>Rich target configuration available; multiple passes can contribute info.</li>
<li>Produced executable binaries are hermetic and no runtime changes are required.</li>
<li>Specialization can happen in MLIR dialects like <code>linalg</code> or <code>vector</code> as well
  as target-specific representations like SPIR-V and LLVM IR.</li>
<li>The compiler can perform deep optimizations across both the generated code and
  the provided code (hoisting/loop invariant code motion/cse/etc).</li>
</ul>
<h3 id="cons_2">Cons<a class="headerlink" href="#cons_2" title="Permanent link">link</a></h3>
<ul>
<li>Requires implementing the patterns as code in the IREE compiler or via TBD
  interfaces.</li>
</ul>
<h3 id="when-to-use_2">When to use<a class="headerlink" href="#when-to-use_2" title="Permanent link">link</a></h3>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Code that must be emitted during target lowering - such as
  something optimizing for a particular CPU architecture.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Hot code mixed with generated code at a fine granularity
  (within the innermost loop).</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> External existing hand-authored libraries. Either statically
  or dynamically link instead.</li>
</ul>
<h3 id="implementation_2">Implementation<a class="headerlink" href="#implementation_2" title="Permanent link">link</a></h3>
<p>There are several ways to author patterns and passes in MLIR. As examples:</p>
<ul>
<li>A majority of patterns are authored in C++ using <a href="https://mlir.llvm.org/docs/PatternRewriter/">PatternRewriter</a>.</li>
<li><a href="https://mlir.llvm.org/docs/Dialects/PDLOps/">PDL</a> is an MLIR-based way to
  express rewrite operations with strong typing, compile-time verification, and
  easily-readable and less-verbose IR.</li>
<li><code>linalg</code> uses a <a href="https://mlir.llvm.org/docs/Dialects/Linalg/OpDSL/">python-based DSL</a>
  for defining some of its extended ops.</li>
</ul>
<p>There are many examples within both MLIR and IREE, one specifically being the
<a href="https://github.com/llvm/llvm-project/blob/main/mlir/lib/Dialect/Math/Transforms/PolynomialApproximation.cpp">polynomial approximation expansion patterns</a>.</p>
<h2 id="4-include-external-target-specific-device-code">4. Include external target-specific device code<a class="headerlink" href="#4-include-external-target-specific-device-code" title="Permanent link">link</a></h2>
<div class="admonition tldr">
<p class="admonition-title">TL;DR</p>
<p>Statically link external object files into IREE executables.</p>
</div>
<p>For large bodies of existing device code or library calls that are available for
static linkage the work involved to reimplement them at higher levels of the
stack can be cost prohibitive even if it leads to better results. In these cases
just as with a normal toolchain one would just want to declare an external
function, call it, and add the object file to the linker command line. In IREE
the same can be performed by way of taking compatible bitcode or native object
files and linking them in with the generated code. An MLIR pattern would declare
and emit the call and the target-specific IREE linker would pull in the objects.</p>
<p>As the linking behavior varies per target (for example, some targets like
SPIR-V don't have traditional linkers) how this is performed is up to the IREE
target backends. The complexity involved in producing the object files to link
will also vary per-backend and the complexity of the deployment: cross-compiling
for multiple architectures or compilation modes (ASAN, etc) will require unique
copies of the object files matching that precise configuration.</p>
<p>At this point generality is largely out as is the ability to cleanly upstream
such files. It should be apparent how a few dozen lines of C++ or PDL that
avoids the need for any of this complexity is more appealing. In extremely
specific cases of a single platform/architecture/version for a single program
deployed via a specific artifact composition it's not so bad but IREE is
designed such that extreme specificity is an optional mode of the more general
solution. This does not mean this mechanism is not useful in some situations and
only that it should be a last-resort when one of the easier to manage solutions
is not viable - not a shortcut to avoid writing some C++ patterns.</p>
<h3 id="pros_3">Pros<a class="headerlink" href="#pros_3" title="Permanent link">link</a></h3>
<ul>
<li>Works with hand-authored code in compatible object files from any toolchain.</li>
<li>No IREE runtime changes required.<ul>
<li>All deployment modes still work, including multi-targeting.</li>
<li>No versioning concerns as custom code is included in artifacts.</li>
</ul>
</li>
</ul>
<h3 id="cons_3">Cons<a class="headerlink" href="#cons_3" title="Permanent link">link</a></h3>
<ul>
<li>Users must provide per-target precompiled object files on disk.</li>
<li>IREE compiler changes are still needed for generating the external calls.</li>
<li>Though LTO <em>may</em> be able to optimize across the calls it is not guaranteed.</li>
</ul>
<h3 id="when-to-use_3">When to use<a class="headerlink" href="#when-to-use_3" title="Permanent link">link</a></h3>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Existing math libraries or architecture-specific functions
  that cannot be ported into a more MLIR-friendly form.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Mixing in hand-authored code written in C/rust/etc with
  generated code from MLIR.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> External code can be represented as either <code>linalg</code>,
  <code>vector</code>, or LLVM IR. Use target-specific conversion patterns instead.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> External code size is large and unlikely to benefit from
  link-time optimizations (such as something like libjpeg). Dynamically link
  instead.</li>
</ul>
<h3 id="implementation_3">Implementation<a class="headerlink" href="#implementation_3" title="Permanent link">link</a></h3>
<p>As the linking behavior varies per target backend there is no general solution
at this level: if targeting the CPU then the system native linker or lld need
to be provided the object files, while SPIR-V will need to merge the SPIR-V
binaries directly, and Metal shader libraries will need to be constructed with
the Apple-specific <code>metallib</code> tooling. Producing these files and performing the
linking is outside the scope of IREE.</p>
<p>If the files can be acquired then compiler changes will be required to emit
calls to them and invoke the linker with the the files.</p>
<p>On the CPU an alternative is to use the static library output mode where IREE
produces an object file and then the user invokes the linker themselves; this
still requires the compiler changes to emit the calls but avoids needing to
teach the compiler how to link the files.</p>
<h2 id="5-dynamically-link-target-specific-device-code-cpu-only">5. Dynamically link target-specific device code (CPU only)<a class="headerlink" href="#5-dynamically-link-target-specific-device-code-cpu-only" title="Permanent link">link</a></h2>
<div class="admonition tldr">
<p class="admonition-title">TL;DR</p>
<p>Dynamically link external C functions at runtime from device code.</p>
</div>
<p><em>It is pitch black. You are likely to be eaten by a grue.</em></p>
<p>This is the lowest-level integration in the system and is designed to act as an
escape hatch and - as with any emergency escape hatch - it's not designed for
ergonomics. Users should try first to come in through the door and attempting to
use this mechanism should trigger alarms about the approach being attempted.</p>
<p>IREE's execution model for device code and native machine binary deployment
mechanisms are designed with several constraints in order to make all of the
above approaches possible and performant. Calling arbitrary C functions from
deep within the system can introduce subtle (and not-so-subtle) bugs that are
extremely difficult to track down and versioning between the compiler emitting
the calls and the runtime providing the implementations can cause skew unless
held carefully. Consider the methods added here like syscalls in that they must
be extremely focused and if they are ever likely to change (including being
removed) then care will be needed just as with versioning or redirecting a
syscall. Designing good stable interfaces is hard and a classic pit of failure.</p>
<p>Some things to note:</p>
<ul>
<li>Device code executes in a tiled fashion and single dispatches may invoke the
  same function many times from many threads concurrently to perform
  the larger work.</li>
<li>Tiles may execute in any order and on any thread; performing fine-grained
  locking within the tile can lead to deadlocks.</li>
<li>Device code is stateless in order to allow for access restrictions and caching
  across multiple loaded models - any library state required must be externally
  managed via process globals.</li>
<li>Device code may be running out-of-process (sandbox/enclave) and the library
  functions must be available where the dispatches run and not where they are
  launched (such as being linked into the sandbox binary, if separate from the
  main process binary).</li>
<li>The stack must be used to pass arguments/results to external calls via a
  single pointer and there is no libffi-like functionality for magically calling
  arbitrary C functions. Users must provide the shims they need.</li>
<li>Thread-local storage is unavailable in the called code (it may be usable, but
  it is not guaranteed it'll work on all platforms and leaks are likely).</li>
<li>No heap allocator is provided and the use of libc malloc is unsupported.</li>
</ul>
<p>Most of the constraints here come from the <a href="https://en.wikipedia.org/wiki/SPMD">SPMD</a>
parallelism model, platform-agnostic deployment format, and overall
data-oriented design of IREE. Code operating in this fashion has a certain shape
and that is usually not the same as big legacy single-threaded CPU-focused BLAS
libraries that perform their own caching, internal thread and state management,
and other shenanigans. IREE is not designed to wrap such things and if any of
these notes are issues it is more an indicator that the approach needs
adjustment than anything else. Trying to bypass or workaround the constraints is
possible - after all IREE is an open source project and any user is welcome to
fork it - but unsupported by the core IREE team.</p>
<h3 id="pros_4">Pros<a class="headerlink" href="#pros_4" title="Permanent link">link</a></h3>
<ul>
<li>Function resolution at runtime is orthogonal to compiler target specification.</li>
<li>Machine code can be shared between the application and IREE artifacts.</li>
</ul>
<h3 id="cons_4">Cons<a class="headerlink" href="#cons_4" title="Permanent link">link</a></h3>
<ul>
<li>IREE compiler and runtime must both be modified.</li>
<li>Deeper integration with the IREE codegen compiler infrastructure required.</li>
<li>ABI versioning complexity between compiler and runtime.</li>
<li>Runtimes must ship the imports for the lifetime of any artifact compiled to
  use them.<ul>
<li>Humans are bad at predicting the future.</li>
<li>Using the same artifact in different binaries at runtime requires changes
  to each binary - including those that may not be owned by the person
  producing the artifact.</li>
<li>Weak imports and conditional usage can help but still leads to bloat.</li>
</ul>
</li>
</ul>
<h3 id="when-to-use_4">When to use<a class="headerlink" href="#when-to-use_4" title="Permanent link">link</a></h3>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg></span> Calling into opaque closed-source BLAS-like microkernel
  libraries.</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></span> Any other cases covered above can be used, especially
  microkernels that can be represented in MLIR or as statically linked
  libraries.</li>
</ul>
<h3 id="implementation_4">Implementation<a class="headerlink" href="#implementation_4" title="Permanent link">link</a></h3>
<p>The compiler is changed to produce calls to imports via a dynamic import table
provided to each dispatch function. The import table is declared in the
executable library for use at runtime. Runtime applications register an import
provider to resolve named symbols in the import table to C functions that
marshal arguments and results.</p>
<p>The compiler-side needs some additional work but an example is included here:
<a href="https://github.com/openxla/iree/issues/7504">Issue 7504</a>.
The runtime-side is complete and resolution is performed by a user-supplied
<code>iree_hal_executable_import_provider_t</code>.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 The IREE Authors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/openxla/iree" target="_blank" rel="noopener" title="IREE on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/26P4xW4" target="_blank" rel="noopener" title="IREE Discord Server" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://groups.google.com/forum/#!forum/iree-discuss" target="_blank" rel="noopener" title="IREE Discuss Google Group" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M144 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zm368 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1-192 0zm-96 261.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.sections", "navigation.top", "navigation.indexes", "toc.follow"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ce72ebac.min.js"></script>
      
    
  </body>
</html>